{"version":3,"sources":["reducers/viewReducer.js","reducers/detailReducer.js","screenDefinitions.js","components/FoodList.js","components/CalorieDisplay.js","components/MacrosPanel.js","components/MealCard.js","components/MealContainer.js","components/MealEntryCard.js","components/MealDetailPanel.js","useCheckMobile.js","components/FoodDetailPanel.js","components/DetailDialog.js","reducers/settingsReducer.js","components/SettingsPanel.js","components/DemoDataNotice.js","vectors/arrow.svg","components/ViewRoot.js","components/mobile/DetailDialog.js","components/mobile/ViewRoot.js","App.js","reducers/foodReducer.js","reducers/mealReducer.js","reducers/reducers.js","reducers/servingSizesReducer.js","DemoData.js","PersistentMiddleware.js","serviceWorker.js","index.js"],"names":["viewSlice","createSlice","slice","initialState","selectedTab","selectedView","reducers","selectTab","state","action","payload","actions","reducer","item","isNew","itemType","closeItem","newItem","title","protein","carbs","fat","servingSizeId","meals","editItem","type","updateItem","field","value","saveItem","deleteItem","screenDefinitions","label","view","showNewButton","buttonLabel","icon","emptyText","connect","items","foods","props","listItems","map","index","listItemText","react_default","a","createElement","ListItemText","primary","primaryTypographyProps","component","ListItem","button","onClick","event","onItemClicked","key","Paper","elevation","List","disablePadding","CalorieDisplay","data","group","cals","reduce","macro","colors","pieBackgroundStyle","width","size","height","border","borderRadius","className","es6","margin","outerRadius","innerRadius","dataKey","isAnimationActive","entry","concat","fill","length","style","Typography","variant","toFixed","MacrosPanel","Grid","container","spacing","wrap","components_CalorieDisplay","alignItems","direction","justify","useStyles","makeStyles","theme","cardPadding","padding","cardActionArea","ownProps","getFoodItem","id","find","food","getServingSize","servingSizes","sumFunc","name","agg","foodId","amount","macroTotals","meal","getMacroTotals","getTitle","mealEntry","getAmountLabel","valueLabel","_React$useState","React","useState","_React$useState2","Object","slicedToArray","expanded","setExpanded","classes","mealEntries","secondary","ButtonBase","components_MacrosPanel","Collapse","in","timeout","unmountOnExit","Divider","Box","Button","mealCards","components_MealCard","card","cardSelected","backgroundColor","cardHeader","cardHeaderText","flexGrow","cardBody","MealEntryCard","rootClass","checked","textFieldAdornment","amountLabel","endAdornment","InputAdornment","position","onChecked","align","CheckBox","fontSize","htmlColor","CheckBoxOutlineBlank","TextField","fullWidth","disabled","onChange","onAmountChanged","target","InputProps","foodList","objectSpread","detail","isSelected","Boolean","getAmount","foodCardItems","selected","update","filter","createCheckHandler","createAmountChangedHandler","fAmount","parseFloat","isNaN","Error","mealEntryCards","components_MealEntryCard","autoFocus","xs","useCheckMobile","useTheme","useMediaQuery","breakpoints","down","isMobile","createHandler","isFloat","FormControl","InputLabel","Select","servingSize","MenuItem","dialogRoot","maxheight","sharedState","onClose","Dialog","open","aria-labelledby","maxWidth","DialogTitle","DialogContent","dividers","components_FoodDetailPanel","components_MealDetailPanel","DialogActions","persist","color","settingsSlice","dismissDemoDataNotice","showDemoDataNotice","clearData","snackbar","bottom","placeAboveFab","settings","settingsLink","Link","messageBody","IconButton","Close_default","Snackbar","anchorOrigin","vertical","horizontal","message","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","_ref3","_ref4","arrow_SvgArrow","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","__webpack_require__","p","appDimensions","appBar","borderBottom","palette","divider","flex","toolbar","toolbarContent","scrollContainer","overflow","tabContentWrapper","overflowX","marginRight","tabContent","emptyContent","display","justifyContent","paddingRight","emptyContentText","alignSelf","viewMap","components_FoodList","components_MealContainer","components_SettingsPanel","views","contentEmpty","contentView","text","Fragment","AppBar","Toolbar","disableGutters","Tabs","e","newValue","indicatorColor","textColor","Tab","components_DetailDialog","components_DemoDataNotice","appBarTitle","fullScreen","ArrowBack","Delete","Save","bottomBar","borderTop","fab","right","iconMap","storage","Storage","fastfood","Fastfood","Settings","BottomNavigation","showLabels","BottomNavigationAction","Fab","aria-label","Add","mobile_DetailDialog","App","viewRoot","mobile_ViewRoot","components_ViewRoot","CssBaseline","foodsSlice","updateFoods","extraReducers","_extraReducers","defineProperty","foodIndex","findIndex","push","mealsSlice","updateMeals","mealReducer_extraReducers","forEach","foodReducer","viewReducer","detailReducer","settingsReducer","demoFoods","demoMeals","dbPromise","openDB","upgrade","db","oldVersion","foodStore","createObjectStore","keyPath","autoIncrement","createIndex","store","add","mealStore","addDemoMeals","storeFactory","objectStoreName","getAll","asyncToGenerator","regenerator_default","mark","_callee","result","cursor","_context","prev","next","abrupt","sent","openCursor","continue","stop","_x","then","get","save","put","delete","clear","getPersistedState","_getPersistedState","_callee2","_context2","stores","t0","t1","t2","t3","Promise","resolve","dispatch","all","window","location","hostname","match","configureStore","toConsumableArray","getDefaultMiddleware","t4","preloadedState","middleware","ReactDOM","render","es","document","getElementById","load","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yVAGMA,EAAYC,YAAY,CAC7BC,MAAO,OACPC,aAAc,CACbC,YAAa,EACbC,aAAc,QAEfC,SAAU,CACTC,UADS,SACCC,EAAOC,GAChB,MAAO,CACNL,YAAaK,EAAOC,aAMhBC,EAAqBX,EAArBW,QAASC,EAAYZ,EAAZY,QACFL,EAAcI,EAAdJ,UACAK,ICZTZ,EAAYC,YAAY,CAC7BC,MAAO,SACPC,aAR8B,CAC9BU,KAAM,KACNC,OAAO,EACPC,SAAU,MAMVT,SAAU,CACTU,UAAW,SAACR,EAAOC,GAAR,MAVkB,CAC9BI,KAAM,KACNC,OAAO,EACPC,SAAU,OAQTE,QAFS,SAEDT,EAAOC,GACd,IAAMQ,EAA6B,SAAnBR,EAAOC,QACtB,CAACQ,MAAO,GAAIC,QAAS,EAAGC,MAAO,EAAGC,IAAK,EAAGC,cAAe,GACzD,CAACJ,MAAO,GAAIK,MAAO,IACpBf,EAAMM,OAAQ,EACdN,EAAMO,SAAWN,EAAOC,QACxBF,EAAMK,KAAOI,GAEdO,SAVS,SAUAhB,EAAOC,GACfD,EAAMK,KAAOJ,EAAOC,QAAQG,KAC5BL,EAAMO,SAAWN,EAAOC,QAAQe,MAEjCC,WAdS,SAcElB,EAAOC,GACjBD,EAAMK,KAAKJ,EAAOC,QAAQiB,OAASlB,EAAOC,QAAQkB,OAEnDC,SAAU,SAACrB,EAAOC,GAAR,MA1BmB,CAC9BI,KAAM,KACNC,OAAO,EACPC,SAAU,OAwBTe,WAAY,SAACtB,EAAOC,GAAR,MA3BiB,CAC9BI,KAAM,KACNC,OAAO,EACPC,SAAU,UA4BHJ,EAAqBX,EAArBW,QAASC,EAAYZ,EAAZY,QACFI,EAAmEL,EAAnEK,UAAWC,EAAwDN,EAAxDM,QAASO,EAA+Cb,EAA/Ca,SAAUE,EAAqCf,EAArCe,WAAYG,EAAyBlB,EAAzBkB,SAAUC,EAAenB,EAAfmB,WACpDlB,ICnCAmB,EAAA,CACd,CACCC,MAAO,WACPC,KAAM,OACNC,eAAe,EACfC,YAAa,WACbC,KAAM,UACNC,UAAW,uBAEZ,CACCL,MAAO,QACPC,KAAM,OACNC,eAAe,EACfC,YAAa,WACbC,KAAM,WACNC,UAAW,uBAEZ,CACCL,MAAO,WACPC,KAAM,WACNC,eAAe,EACfE,KAAM,iDCYR,IAMeE,cANS,SAAA9B,GACvB,MAAO,CACN+B,MAAO/B,EAAMgC,QAIyB,CAAChB,YAA1Bc,CAjCf,SAAkBG,GAAO,IAEhBF,EAAoBE,EAApBF,MAAOf,EAAaiB,EAAbjB,SAITkB,EAAYH,EAAMI,IAAI,SAAC9B,EAAM+B,GAClC,IAAMC,EAAiBhC,EAAKK,MAC3B4B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAcC,QAASrC,EAAKK,QAC5B4B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAcC,QAAQ,WAAWC,uBAAwB,CAACC,UAAW,OAEtE,OACCN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUC,QAAM,EAACC,QAAS,SAAAC,GAAK,OARX,SAACA,EAAOZ,GAAR,OAAkBpB,EAAS,CAACX,KAAM4B,EAAMF,MAAMK,GAAQnB,KAAM,SAQ7CgC,CAAcD,EAAOZ,IAAQc,IAAKd,GACnEC,KAKJ,OACCC,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAOC,UAAWnB,EAAMmB,WACvBd,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAMC,gBAAc,GAClBpB,2ECkBUqB,MAnCf,SAAwBtB,GACvB,IAAMuB,EAAO,CACZ,CAACC,MAAO,UAAWrC,MAA4B,EAArBa,EAAMuB,KAAK7C,SACrC,CAAC8C,MAAO,QAASrC,MAA0B,EAAnBa,EAAMuB,KAAK5C,OACnC,CAAC6C,MAAO,MAAOrC,MAAwB,EAAjBa,EAAMuB,KAAK3C,MAG5B6C,EAAOF,EAAKG,OAAO,SAACD,EAAME,GAAP,OAAiBF,EAAQE,EAAMxC,OAAO,GAEzDyC,EAAS,CAAC,UAAW,UAAW,WAChCC,EAAqB,CAACC,MAAO9B,EAAM+B,KAAMC,OAAQhC,EAAMgC,OAAQC,OAAQjC,EAAM+B,KAAO,GAAK,gBAAiBG,aAAclC,EAAM+B,MACpI,OACC1B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,2BACd9B,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,2BACd9B,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAUN,MAAO9B,EAAM+B,KAAMC,OAAQhC,EAAM+B,KAAMM,OAAQ,IACxDhC,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CACCb,KAAMA,EACNe,YAAY,OACZC,YAAY,MACZC,QAAQ,QACRC,mBAAmB,GAGlBlB,EAAKrB,IAAI,SAACwC,EAAOvC,GAAR,OAAkBE,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAMnB,IAAG,QAAA0B,OAAUxC,GAASyC,KAAMhB,EAAOzB,EAAQyB,EAAOiB,eAKvFxC,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,0BAA0BW,MAAOjB,IAChDxB,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAYC,QAAQ,KAAKrC,UAAU,OAAOwB,UAAU,yBAAyBV,EAAKwB,QAAQ,IAC1F5C,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAYC,QAAQ,KAAKrC,UAAU,OAAOwB,UAAU,yBAApD,UCXYe,MAxBf,SAAqBlD,GACpB,OACCK,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAIC,KAAK,UACjCjD,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACgD,EAAD,CAAgBhC,KAAMvB,EAAMuB,KAAMQ,KAAM/B,EAAM+B,MAAQ,OAEvD1B,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,EAACgF,WAAS,EAACI,WAAW,SAASC,UAAU,SAASC,QAAQ,gBACnErD,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwC,EAAA,EAAD,gBACA1C,EAAAC,EAAAC,cAACwC,EAAA,EAAD,KAAa/C,EAAMuB,KAAK7C,QAAQuE,QAAQ,GAAxC,MAED5C,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwC,EAAA,EAAD,cACA1C,EAAAC,EAAAC,cAACwC,EAAA,EAAD,KAAa/C,EAAMuB,KAAK5C,MAAMsE,QAAQ,GAAtC,MAED5C,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwC,EAAA,EAAD,YACA1C,EAAAC,EAAAC,cAACwC,EAAA,EAAD,KAAa/C,EAAMuB,KAAK3C,IAAIqE,QAAQ,GAApC,SCbCU,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACtCC,YAAa,CACZC,QAAS,QAEVC,eAAgB,CACfD,QAAS,YAuDX,IA6BelE,cA7BS,SAAC9B,EAAOkG,GAC/B,IAAMC,EAAc,SAAAC,GAAE,OAAIpG,EAAMgC,MAAMqE,KAAK,SAAAC,GAAI,OAAIA,EAAKF,KAAOA,KACzDG,EAAiB,SAAAD,GAAI,OAAItG,EAAMwG,aAAaH,KAAK,SAAArC,GAAI,OAAIA,EAAKoC,KAAOE,EAAKxF,iBAE1E2F,EAAU,SAAAC,GACf,OAAO,SAACC,EAAKtG,GACZ,IAAMiG,EAAOH,EAAY9F,EAAKuG,QAC9B,OAAOD,EAAOL,EAAKI,IAASrG,EAAKwG,OAASN,EAAeD,GAAMlF,SAcjE,MAAO,CACN0F,YAXsB,SAAAC,GACtB,MAAO,CACNpG,QAASoG,EAAKhG,MAAM4C,OAAO8C,EAAQ,WAAY,GAC/C7F,MAAOmG,EAAKhG,MAAM4C,OAAO8C,EAAQ,SAAU,GAC3C5F,IAAKkG,EAAKhG,MAAM4C,OAAO8C,EAAQ,OAAQ,IAO3BO,CAHGd,EAATa,MAIPE,SAAU,SAAAC,GAAS,OAAIf,EAAYe,EAAUN,QAAQlG,OACrDyG,eAAgB,SAAAD,GAAS,OAAIX,EAAeJ,EAAYe,EAAUN,SAASQ,cAKrC,CAAEpG,YAA3Bc,CA/Ef,SAAkBG,GAAO,IAAAoF,EACQC,IAAMC,UAAS,GADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GACjBM,EADiBH,EAAA,GACPI,EADOJ,EAAA,GAElBK,EAAUjC,IAERmB,EAA0D9E,EAA1D8E,KAAMD,EAAoD7E,EAApD6E,YAAa9F,EAAuCiB,EAAvCjB,SAAUiG,EAA6BhF,EAA7BgF,SAAUE,EAAmBlF,EAAnBkF,eAEzCW,EAAcf,EAAKhG,MAAMoB,IAAI,SAAC+E,EAAW9E,GAC9C,OACCE,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUK,IAAKd,GACdE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAcC,QAASuE,EAASC,GAAYa,UAAWb,EAAUL,OAASM,EAAeD,QAQ5F,OACC5E,EAAAC,EAAAC,cAACW,EAAA,EAAD,KACCb,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAMC,WAAS,EAACK,UAAU,UACzBpD,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAYC,QAAQ,KAAKrC,UAAU,KAAKwB,UAAWyD,EAAQ9B,aAAcgB,EAAKrG,QAE/E4B,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwF,EAAA,EAAD,CAAYjF,QATU,kBAAM/B,EAAS,CAACX,KAAM0G,EAAM9F,KAAM,WAUvDqB,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAMC,WAAS,EAACK,UAAU,UACzBpD,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,EAAC+D,UAAWyD,EAAQ9B,aAC7BzD,EAAAC,EAAAC,cAACyF,EAAD,CAAazE,KAAMsD,EAAa9C,KAAM,OAEvC1B,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAUC,GAAIR,EAAUS,QAAQ,OAAOC,eAAa,GACnD/F,EAAAC,EAAAC,cAACa,EAAA,EAAD,KACEyE,SAQRxF,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,MACAhG,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAKnE,UAAWyD,EAAQ5B,gBACvB3D,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAQpE,UAAWyD,EAAQ/E,OAAQC,QA5Bd,kBAAM6E,GAAaD,KA4BsBA,EAAW,WAAa,cC7C1F,IAMe7F,cANS,SAAA9B,GACvB,MAAO,CACN+B,MAAO/B,EAAMe,QAIAe,CAff,SAAuBG,GACtB,IAAMwG,EAAYxG,EAAMF,MAAMI,IAAI,SAAC9B,EAAM+B,GAAP,OAAiBE,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,EAAC6C,IAAK7C,EAAK+F,IAAI9D,EAAAC,EAAAC,cAACkG,EAAD,CAAU3B,KAAM1G,OAC5F,OACCiC,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGK,QAAQ,UAClC8C,6CCNE7C,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACtC6C,KAAM,CACL5E,MAAO,SAER6E,aAAc,CACbC,gBAAiB,2BAElBC,WAAY,CACX9C,QAASF,EAAMR,QAAQ,GACvBvB,MAAO,QAERgF,eAAgB,CACfC,SAAU,GAEXC,SAAU,CACTjD,QAASF,EAAMR,QAAQ,OAoCV4D,OAhCf,SAAuBjH,GACtB,IAAM4F,EAAUjC,KACZuD,EAAYtB,EAAQc,KACrB1G,EAAMmH,UACRD,EAAYA,EAAY,IAAMtB,EAAQe,cAGvC,IACMS,EAAqBpH,EAAMqH,YAChC,CAACC,aAAcjH,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAgBC,SAAS,OAAOxH,EAAMqH,cAA+B,KAErF,OACChH,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAOiB,UAAW+E,GACjB7G,EAAAC,EAAAC,cAACwF,EAAA,EAAD,CAAYjF,QAASd,EAAMyH,UAAWtF,UAAWyD,EAAQiB,YACxDxG,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAY2E,MAAM,OAAOvF,UAAWyD,EAAQkB,gBAAiB9G,EAAMvB,OAClEuB,EAAMmH,QAAU9G,EAAAC,EAAAC,cAACoH,GAAA,EAAD,CAAUC,SAAS,QAAQC,UAAU,YAAexH,EAAAC,EAAAC,cAACuH,GAAA,EAAD,CAAsBF,SAAS,QAAQC,UAAU,aAEvHxH,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAKnE,UAAWyD,EAAQoB,UACvB3G,EAAAC,EAAAC,cAACwH,GAAA,EAAD,CACC5D,GAAG,SACH5E,MAAM,SACNyI,WAAS,EACTC,UAAWjI,EAAMmH,QACjBhI,MAAOa,EAAM4E,OACbsD,SAjBoB,SAAAnH,GAAK,OAAIf,EAAMmI,gBAAgBpH,EAAMqH,OAAOjJ,QAkBhEkJ,WAAYjB,OCqBjB,IAQevH,eARS,SAAA9B,GACvB,IAAMuG,EAAiB,SAAAD,GAAI,OAAItG,EAAMwG,aAAaH,KAAK,SAAArC,GAAI,OAAIA,EAAKoC,KAAOE,EAAKxF,iBAChF,MAAO,CACNyJ,SAAUvK,EAAMgC,MAAMG,IAAI,SAAAmE,GAAI,OAAAmB,OAAA+C,EAAA,EAAA/C,CAAA,GAASnB,EAAT,CAAegD,YAAa/C,EAAeD,GAAMc,eAC/E/G,KAAML,EAAMyK,OAAOpK,OAImB,CAAEa,cAA3BY,CAvEf,SAAyBG,GAAO,IACvB5B,EAA+B4B,EAA/B5B,KAAMkK,EAAyBtI,EAAzBsI,SAAUrJ,EAAee,EAAff,WAExB,IAAIb,EAAM,OAAO,KAEjB,IAAMqK,EAAa,SAAApE,GAAI,OAAIqE,QAAQtK,EAAKU,MAAMsF,KAAK,SAAAa,GAAS,OAAIA,EAAUN,SAAWN,EAAKF,OACpFwE,EAAY,SAAAtE,GAAI,OAAMjG,EAAKU,MAAMsF,KAAK,SAAAa,GAAS,OAAIA,EAAUN,SAAWN,EAAKF,MAAO,IAAIS,QAAU,GAClGgE,EAAgBN,EAASpI,IAAI,SAAAmE,GAAI,OAAAmB,OAAA+C,EAAA,EAAA/C,CAAA,GAASnB,EAAT,CAAewE,SAAUJ,EAAWpE,GAAOO,OAAQ+D,EAAUtE,OAI9FyE,EAAS,WACd,IAAMjD,EAAc+C,EAAcG,OAAO,SAAA3K,GAAI,OAAIA,EAAKyK,WAAU3I,IAAI,SAAA9B,GAAI,MAAK,CAACwG,OAAQxG,EAAKwG,OAAQD,OAAQvG,EAAK+F,MAChHlF,EAAW,CAACC,MAAO,QAASC,MAAO0G,KAG9BmD,EAAqB,SAAA7I,GAAK,OAAI,WACnCyI,EAAczI,GAAO0I,UAAYD,EAAczI,GAAO0I,SACtDC,MAGKG,EAA6B,SAAA9I,GAAK,OAAI,SAAAyE,GAC3C,IAAMsE,EAAUC,WAAWvE,GAC3B,GAAGwE,MAAMF,GACR,MAAMG,MAAM,yBAEbT,EAAczI,GAAOyE,OAASsE,EAC9BJ,MAGKQ,EAAiBV,EAAc1I,IAAI,SAAC9B,EAAM+B,GAC/C,OACCE,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,EAAC6C,IAAK7C,EAAK+F,IACpB9D,EAAAC,EAAAC,cAACgJ,GAAD,CACC9K,MAAOL,EAAKK,MACZ4I,YAAajJ,EAAKiJ,YAClBzC,OAAQxG,EAAKwG,OACbuC,QAAS/I,EAAKyK,SACdpB,UAAWuB,EAAmB7I,GAC9BgI,gBAAiBc,EAA2B9I,QAKhD,OACCE,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGI,UAAU,UACrCpD,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwH,GAAA,EAAD,CACCyB,WAAS,EACTxB,WAAS,EACT7D,GAAG,QACH5E,MAAM,QACNJ,MAAOf,EAAKK,MACZyJ,SA5CkB,SAAAnH,GAAK,OAAI9B,EAAW,CAACC,MAAO,QAASC,MAAO4B,EAAMqH,OAAOjJ,YA+C7EkB,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,EAACgF,WAAS,EAACqG,IAAE,EAACpG,QAAS,EAAGK,QAAQ,UAC1C4F,kEC9DU,SAASI,KACvB,IAAM7F,EAAQ8F,eACd,OAAOC,aAAc/F,EAAMgG,YAAYC,KAAK,OCyF7C,IAOejK,eAPS,SAAA9B,GACvB,MAAO,CACNK,KAAML,EAAMyK,OAAOpK,KACnBmG,aAAcxG,EAAMwG,eAIkB,CAAEtF,cAA3BY,CA1Ff,SAAyBG,GAAO,IACvB5B,EAAmC4B,EAAnC5B,KAAMmG,EAA6BvE,EAA7BuE,aAActF,EAAee,EAAff,WACtB8K,EAAWL,KACjB,IAAKtL,EAAM,OAAO,KAElB,IAAM4L,EAAgB,SAACvF,EAAMwF,GAAP,OAAmB,SAAAlJ,GACxC,IAAI5B,EAAQ4B,EAAMqH,OAAOjJ,MACtB8K,GAAWb,MAAMjK,KACnBA,EAAQf,EAAKqG,IAEdxF,EAAW,CAACC,MAAOuF,EAAMtF,MAAOA,MAGjC,OACCkB,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAMC,WAAS,EAACK,UAAU,SAASJ,QAAS,GAC3ChD,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACgD,EAAD,CAAgBhC,KAAMnD,EAAM2D,KAAM,OAEnC1B,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwH,GAAA,EAAD,CACCxI,MAAM,QACN4E,GAAG,QACH6D,WAAS,EACT7I,MAAOf,EAAKK,MACZyJ,SAAU8B,EAAc,YAG1B3J,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwH,GAAA,EAAD,CACC/I,KAAM+K,EAAW,SAAW,OAC5BxK,MAAM,UACN4E,GAAG,UACH6D,WAAS,EACT7I,MAAOf,EAAKM,QACZwJ,SAAU8B,EAAc,WAAW,GAC7B3B,WAAY,CACjBf,aAAcjH,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAgBC,SAAS,OAAzB,SAIjBnH,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwH,GAAA,EAAD,CACC/I,KAAM+K,EAAW,SAAW,OAC5BxK,MAAM,QACN4E,GAAG,QACH6D,WAAS,EACT7I,MAAOf,EAAKO,MACZuJ,SAAU8B,EAAc,SAAS,GACjC3B,WAAY,CACXf,aAAcjH,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAgBC,SAAS,OAAzB,SAIjBnH,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAACwH,GAAA,EAAD,CACC/I,KAAM+K,EAAW,SAAW,OAC5BxK,MAAM,MACN4E,GAAG,MACH6D,WAAS,EACT7I,MAAOf,EAAKQ,IACZsJ,SAAU8B,EAAc,OAAO,GAC/B3B,WAAY,CACXf,aAAcjH,EAAAC,EAAAC,cAACgH,GAAA,EAAD,CAAgBC,SAAS,OAAzB,SAIjBnH,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAM/E,MAAI,GACTiC,EAAAC,EAAAC,cAAC2J,GAAA,EAAD,CAAalC,WAAS,GACrB3H,EAAAC,EAAAC,cAAC4J,GAAA,EAAD,qBACA9J,EAAAC,EAAAC,cAAC6J,GAAA,EAAD,CACC7K,MAAM,eACNyI,WAAS,EACT7I,MAAOf,EAAKS,cACZqJ,SAAU8B,EAAc,kBAEvBzF,EAAarE,IAAI,SAAAmK,GAAW,OAAIhK,EAAAC,EAAAC,cAAC+J,GAAA,EAAD,CAAUrJ,IAAKoJ,EAAYlG,GAAIhF,MAAOkL,EAAYlG,IAAKkG,EAAY9K,uDC5EpGoE,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACtC0G,WAAY,CACXC,UAAW,QA4Bb,IAoBe3K,eApBS,SAAA9B,GACvB,IAAM0M,EAAc,CACnBrM,KAAML,EAAMyK,OAAOpK,KACnBC,MAAON,EAAMyK,OAAOnK,MACpBC,SAAUP,EAAMyK,OAAOlK,UAExB,MAA6B,SAA1BP,EAAMyK,OAAOlK,SACRkH,OAAA+C,EAAA,EAAA/C,CAAA,GACHiF,EADJ,CAEC1I,KAAM,KACNtD,OAAQV,EAAMyK,OAAOnK,MAAQ,MAAQ,QAAU,UAG1CmH,OAAA+C,EAAA,EAAA/C,CAAA,GACHiF,EADJ,CAEC1I,KAAM,KACNtD,OAAQV,EAAMyK,OAAOnK,MAAQ,MAAQ,QAAU,WAIT,CAAEE,YAAWa,WAAUC,cAAhDQ,CA5Cf,SAAsBG,GACrB,IAAM4F,EAAUjC,KACRvF,EAAwE4B,EAAxE5B,KAAMK,EAAkEuB,EAAlEvB,MAAOH,EAA2D0B,EAA3D1B,SAAUyD,EAAiD/B,EAAjD+B,KAAM1D,EAA2C2B,EAA3C3B,MAAOE,EAAoCyB,EAApCzB,UAAWa,EAAyBY,EAAzBZ,SAAUC,EAAeW,EAAfX,WAEjE,IAAIjB,EAAM,OAAO,KAEjB,IAAMsM,EAAU,kBAAMnM,KAGtB,OACC8B,EAAAC,EAAAC,cAACoK,GAAA,EAAD,CAAQC,KAAMlC,QAAQtK,GAAOsM,QAASA,EAASG,kBAAgB,oBAAoBC,SAAU/I,EAAMiG,WAAS,GAC3G3H,EAAAC,EAAAC,cAACwK,GAAA,EAAD,CAAa5G,GAAG,qBAAqB1F,GACrC4B,EAAAC,EAAAC,cAACyK,GAAA,EAAD,CAAeC,UAAQ,EAAC9I,UAAWyD,EAAQ2E,YAC5B,SAAbjM,EAAsB+B,EAAAC,EAAAC,cAAC2K,GAAD,MAAsB7K,EAAAC,EAAAC,cAAC4K,GAAD,OAE9C9K,EAAAC,EAAAC,cAAC6K,GAAA,EAAD,KACC/K,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAQzF,QAAS4J,GAAjB,UACErM,GAASgC,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAQzF,QATL,kBAAMzB,EAAW,CAAC8E,GAAI/F,EAAK+F,GAAInF,KAAMV,EAAU+M,SAAS,KAShCC,MAAM,aAAjC,UACXjL,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAQzF,QAXI,kBAAM1B,EAAS,CAAChB,KAAMA,EAAMY,KAAMV,EAAU+M,SAAS,KAWxCC,MAAM,WAA/B,YC/BEC,GAAgB/N,YAAY,CACjCC,MAAO,WACPC,aAAc,GACdG,SAAU,CACT2N,sBADS,SACazN,EAAOC,GAC5BD,EAAM0N,oBAAqB,GAE5BC,UAJS,SAIC3N,EAAOC,QAIXE,GAAqBqN,GAArBrN,QAASC,GAAYoN,GAAZpN,QACFqN,GAAqCtN,GAArCsN,sBAAuBE,GAAcxN,GAAdwN,UACvBvN,MCSA0B,mBAAQ,KAAM,CAAE6L,cAAhB7L,CAlBf,SAAuBG,GAAO,IAErB0L,EAAc1L,EAAd0L,UAIR,OACCrL,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAOC,UAAWnB,EAAMmB,WACvBd,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAMC,gBAAc,GACnBhB,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACCP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAcC,QAAQ,eACtBJ,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAQvD,QAAQ,WAAWsI,MAAM,YAAYxK,QAP7B,kBAAM4K,EAAU,CAACL,SAAS,MAO1C,iECRC1H,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACtC8H,SAAY,CACXC,OAAQ,SAAA5L,GACP,OAAGA,EAAM6L,cACD,0BACD,wBAmCV,IAEehM,eAFS,SAAA9B,GAAK,MAAK,CAAE6M,KAAM7M,EAAM+N,SAASL,qBAEjB,CAAE3N,YAAW0N,0BAAtC3L,CAhCf,SAAwBG,GAAO,IACtB4K,EAA2C5K,EAA3C4K,KAAM9M,EAAqCkC,EAArClC,UAAW0N,EAA0BxL,EAA1BwL,sBACnB5F,EAAUjC,GAAU,CAACkI,cAAe7L,EAAM6L,gBAE1CnB,EAAU,kBAAMc,EAAsB,CAACH,SAAS,KAQhDU,EAAe1L,EAAAC,EAAAC,cAACyL,GAAA,EAAD,CAAMrL,UAAU,SAASqC,QAAQ,QAAQsI,MAAM,YAAYxK,QAN5D,WAEnBhD,EAAU,GACV4M,MAGoB,YACfuB,EAAc5L,EAAAC,EAAAC,cAAA,0EAAkEwL,EAAlE,KACd7N,EAAU,CAACmC,EAAAC,EAAAC,cAAC2L,GAAA,EAAD,CAAYjL,IAAI,QAAQqK,MAAM,UAAUxK,QAAS4J,GAASrK,EAAAC,EAAAC,cAAC4L,GAAA7L,EAAD,QAE3E,OAAOsK,GACNvK,EAAAC,EAAAC,cAAC6L,GAAA,EAAD,CACCC,aAAc,CAACC,SAAU,SAAUC,WAAY,UAC/CtL,IAAI,iBACJ2J,KAAMA,EACNF,QAASA,EACT8B,QAASP,EACTjO,OAAQE,EACRiE,UAAWyD,EAAQ+F,aC3CtB,SAAAc,KAAmR,OAA9PA,GAAAjH,OAAAkH,QAAA,SAAAtE,GAAgD,QAAAuE,EAAA,EAAgBA,EAAAC,UAAA/J,OAAsB8J,IAAA,CAAO,IAAAE,EAAAD,UAAAD,GAA2B,QAAA1L,KAAA4L,EAA0BrH,OAAAsH,UAAAC,eAAAC,KAAAH,EAAA5L,KAAyDmH,EAAAnH,GAAA4L,EAAA5L,IAAiC,OAAAmH,IAAkB6E,MAAAC,KAAAN,WAEnR,SAAAO,GAAAN,EAAAO,GAAqD,SAAAP,EAAA,SAA+B,IAA8D5L,EAAA0L,EAA9DvE,EAEpF,SAAAyE,EAAAO,GAA0D,SAAAP,EAAA,SAA+B,IAAuD5L,EAAA0L,EAAvDvE,EAAA,GAAiBiF,EAAA7H,OAAA8H,KAAAT,GAAkD,IAAAF,EAAA,EAAYA,EAAAU,EAAAxK,OAAuB8J,IAAO1L,EAAAoM,EAAAV,GAAqBS,EAAAG,QAAAtM,IAAA,IAA0CmH,EAAAnH,GAAA4L,EAAA5L,IAA6B,OAAAmH,EAF9MoF,CAAAX,EAAAO,GAA0E,GAAA5H,OAAAiI,sBAAA,CAAoC,IAAAC,EAAAlI,OAAAiI,sBAAAZ,GAA6D,IAAAF,EAAA,EAAYA,EAAAe,EAAA7K,OAA6B8J,IAAO1L,EAAAyM,EAAAf,GAA2BS,EAAAG,QAAAtM,IAAA,GAA0CuE,OAAAsH,UAAAa,qBAAAX,KAAAH,EAAA5L,KAAwEmH,EAAAnH,GAAA4L,EAAA5L,IAA+B,OAAAmH,EAM3d,IAAAwF,GAEAvN,EAAAC,EAAKC,cAAA,QACLsN,EAAA,6SAGAC,GAEAzN,EAAAC,EAAKC,cAAA,QACLsN,EAAA,6NAGAE,GAEA1N,EAAAC,EAAKC,cAAA,QACLsN,EAAA,qNAGIG,GAAQ,SAAAC,GACZ,IAAAC,EAAAD,EAAAC,OACAlO,EAAAmN,GAAAc,EAAA,YAEA,OAAS5N,EAAAC,EAAKC,cAAA,MAAAkM,GAAA,CACd0B,QAAA,sBACAnM,OAAA,IACAF,MAAA,IACAsM,IAAAF,GACGlO,GAAA4N,GAAAE,GAAAC,KAGHM,GAAiBhO,EAAAC,EAAKgO,WAAA,SAAAtO,EAAAoO,GACtB,OAAS/N,EAAAC,EAAKC,cAAeyN,GAAQvB,GAAA,CACrCyB,OAAAE,GACGpO,MCzBG2D,ID2BS4K,EAAAC,EC3BG5K,YAAW,SAAAC,GAC5B,IAAM4K,EAAgB,CACrB3M,MAAK,eAAAa,OAAiBkB,EAAMR,QAAQ,GAA/B,OACLyH,SAAU,KAEX,MAAO,CACN4D,OAAQ,CACPC,aAAY,aAAAhM,OAAekB,EAAM+K,QAAQC,SACzCrL,WAAY,SACZsL,KAAM,QAEPC,QAAQvJ,OAAA+C,EAAA,EAAA/C,CAAA,GACJiJ,GAEJO,eAAgB,CACfF,KAAM,GAEPG,gBAAiB,CAChBC,SAAU,cACVJ,KAAM,GAEPK,kBAAmB,CAClBC,UAAW,SACXC,YAAa,sBAEdC,WAAW9J,OAAA+C,EAAA,EAAA/C,CAAA,GACPiJ,EADM,CAET1K,QAAS,QACT/B,OAAQ,OACRK,OAAQ,SAETkN,aAAc,CACbzN,MAAO,OACP0N,QAAS,OACTlE,MAAO,OACPmE,eAAgB,WAChBC,aAAc,QACd1N,OAAQ,KAET2N,iBAAkB,CACjBC,UAAW,WACXF,aAAc,aAcjB,IAAMG,GAAU,CACfxL,KAAQhE,EAAAC,EAAAC,cAACuP,EAAD,CAAU3O,UAAW,IAC7B2D,KAAQzE,EAAAC,EAAAC,cAACwP,EAAD,MACRjE,SAAYzL,EAAAC,EAAAC,cAACyP,GAAD,OAwCb,IAqBenQ,eArBS,SAAA9B,GACvB,IAAMJ,EAAcI,EAAMyB,KAAK7B,YACzBC,EAAeqS,EAAMtS,GAAa6B,KAEpC0Q,GAAe,EAQnB,MAPoB,SAAjBtS,IACFsS,EAAsC,IAAvBnS,EAAMgC,MAAM8C,QAER,SAAjBjF,IACFsS,EAAsC,IAAvBnS,EAAMe,MAAM+D,QAGrB,CACNqN,aAAcA,EACdvS,YAAaA,EACbC,aAAcqS,EAAMtS,GAAa6B,KACjCE,YAAauQ,EAAMtS,GAAa+B,YAChCE,UAAWqQ,EAAMtS,GAAaiC,YAIQ,CAAE9B,YAAWU,WAAtCqB,CA1Df,SAAkBG,GACjB,IAAM4F,EAAUjC,KAERuM,EAAwFlQ,EAAxFkQ,aAAcvS,EAA0EqC,EAA1ErC,YAAaC,EAA6DoC,EAA7DpC,aAAc8B,EAA+CM,EAA/CN,YAAaE,EAAkCI,EAAlCJ,UAAW9B,EAAuBkC,EAAvBlC,UAAWU,EAAYwB,EAAZxB,QAE9E2R,EAAcD,EApBrB,SAAsBE,EAAMxK,GAC3B,OACCvF,EAAAC,EAAAC,cAAA,OAAK4B,UAAWyD,EAAQ2J,cACvBlP,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAYC,QAAQ,KAAKrC,UAAU,OAAO2K,MAAM,UAAUnJ,UAAWyD,EAAQ+J,kBAAmBS,GAChG/P,EAAAC,EAAAC,cAAC8N,GAAD,CAAOzL,KAAK,kBAgBqB2M,CAAa3P,EAAWgG,GAAWiK,GAAQjS,GAG9E,OACCyC,EAAAC,EAAAC,cAACF,EAAAC,EAAM+P,SAAP,KACChQ,EAAAC,EAAAC,cAAC+P,EAAA,EAAD,CAAQ9I,SAAS,SAAS8D,MAAM,UAAUnK,UAAW,EAAGgB,UAAWyD,EAAQ8I,QAC1ErO,EAAAC,EAAAC,cAACgQ,EAAA,EAAD,CAASvN,QAAQ,QAAQb,UAAWyD,EAAQmJ,QAASyB,gBAAc,GAClEnQ,EAAAC,EAAAC,cAACkQ,EAAA,EAAD,CACCtR,MAAOxB,EACPuK,SAPe,SAACwI,EAAGC,GAAJ,OAAiB7S,EAAU6S,IAQ1CC,eAAe,UACfC,UAAU,UACV1O,UAAWyD,EAAQoJ,gBAElBiB,EAAM/P,IAAI,SAAAV,GAAI,OAAIa,EAAAC,EAAAC,cAACuQ,EAAA,EAAD,CAAKvR,MAAOC,EAAKD,MAAO0B,IAAK,QAAUzB,EAAKA,UAE9DyQ,EAAMtS,GAAa8B,eAAiBY,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAQvD,QAAQ,YAAYsI,MAAM,UAAUxK,QAAS,kBAAMtC,EAAQZ,KAAgB8B,KAG3HW,EAAAC,EAAAC,cAAA,OAAK4B,UAAWyD,EAAQqJ,iBACvB5O,EAAAC,EAAAC,cAAA,OAAK4B,UAAWyD,EAAQuJ,mBACvB9O,EAAAC,EAAAC,cAAA,OAAK4B,UAAWyD,EAAQ0J,YACtBa,KAIJ9P,EAAAC,EAAAC,cAACwQ,GAAD,MACA1Q,EAAAC,EAAAC,cAACyQ,GAAD,6GCnGGrN,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACtC6K,OAAQ,CACPC,aAAY,aAAAhM,OAAekB,EAAM+K,QAAQC,SACzCC,KAAM,QAEPmC,YAAa,CACZnC,KAAM,GAEPG,gBAAiB,CAChBC,SAAU,cACVnL,QAAS,UA8BX,IAkBelE,eAlBS,SAAA9B,GACvB,IAAM0M,EAAc,CACnBrM,KAAML,EAAMyK,OAAOpK,KACnBC,MAAON,EAAMyK,OAAOnK,MACpBC,SAAUP,EAAMyK,OAAOlK,UAExB,MAA6B,SAA1BP,EAAMyK,OAAOlK,SACRkH,OAAA+C,EAAA,EAAA/C,CAAA,GACHiF,EADJ,CAEChM,OAAQV,EAAMyK,OAAOnK,MAAQ,MAAQ,QAAU,UAG1CmH,OAAA+C,EAAA,EAAA/C,CAAA,GACHiF,EADJ,CAEChM,OAAQV,EAAMyK,OAAOnK,MAAQ,MAAQ,QAAU,WAIT,CAAEE,YAAWa,WAAUC,cAAhDQ,CA5Cf,SAAsBG,GACrB,IAAM4F,EAAUjC,KACRvF,EAAkE4B,EAAlE5B,KAAMK,EAA4DuB,EAA5DvB,MAAOH,EAAqD0B,EAArD1B,SAAUD,EAA2C2B,EAA3C3B,MAAOE,EAAoCyB,EAApCzB,UAAWa,EAAyBY,EAAzBZ,SAAUC,EAAeW,EAAfX,WAE3D,IAAIjB,EAAM,OAAO,KAEjB,IAAMsM,EAAU,kBAAMnM,KAGtB,OACC8B,EAAAC,EAAAC,cAACoK,GAAA,EAAD,CAAQC,KAAMlC,QAAQtK,GAAOsM,QAASA,EAASG,kBAAgB,oBAAoBqG,YAAU,GAC5F7Q,EAAAC,EAAAC,cAAC+P,EAAA,EAAD,CAAQ9I,SAAS,WAAW8D,MAAM,UAAUnK,UAAW,EAAGgB,UAAWyD,EAAQ8I,QAC5ErO,EAAAC,EAAAC,cAACgQ,EAAA,EAAD,CAASC,gBAAc,GACtBnQ,EAAAC,EAAAC,cAAC2L,GAAA,EAAD,CAAYpL,QAAS4J,GAASrK,EAAAC,EAAAC,cAAC4Q,GAAA,EAAD,OAC9B9Q,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAYC,QAAQ,KAAKrC,UAAU,KAAKwB,UAAWyD,EAAQqL,aAAcxS,IACvEJ,GAASgC,EAAAC,EAAAC,cAAC2L,GAAA,EAAD,CAAYZ,MAAM,YAAYxK,QAP5B,kBAAMzB,EAAW,CAAC8E,GAAI/F,EAAK+F,GAAInF,KAAMV,MAOU+B,EAAAC,EAAAC,cAAC6Q,GAAA,EAAD,OAC5D/Q,EAAAC,EAAAC,cAAC2L,GAAA,EAAD,CAAYpL,QATD,kBAAM1B,EAAS,CAAChB,KAAMA,EAAMY,KAAMV,KAShBgN,MAAM,WAAUjL,EAAAC,EAAAC,cAAC8Q,GAAA,EAAD,SAG/ChR,EAAAC,EAAAC,cAAA,OAAK4B,UAAWyD,EAAQqJ,iBACT,SAAb3Q,EAAsB+B,EAAAC,EAAAC,cAAC2K,GAAD,MAAsB7K,EAAAC,EAAAC,cAAC4K,GAAD,UC3B3CxH,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACtC6K,OAAQ,CACPC,aAAY,aAAAhM,OAAekB,EAAM+K,QAAQC,SACzCrL,WAAY,SACZsL,KAAM,QAGPwC,UAAW,CACVC,UAAS,aAAA5O,OAAekB,EAAM+K,QAAQC,SACtCC,KAAM,QAEPC,QAAS,CACRjN,MAAO,QAERmP,YAAa,CACZnC,KAAM,GAEP0C,IAAK,CACJhK,SAAU,QACVoE,OAAQ,mBACR6F,MAAO,OAERxC,gBAAiB,CAChBC,SAAU,cACVJ,KAAM,MAcR,IAAMe,GAAU,CACfxL,KAAQhE,EAAAC,EAAAC,cAACuP,EAAD,CAAU3O,UAAW,IAC7B2D,KAAQzE,EAAAC,EAAAC,cAACwP,EAAD,MACRjE,SAAYzL,EAAAC,EAAAC,cAACyP,GAAD,CAAe7O,UAAW,KAGjCuQ,GAAU,CACfC,QAAWtR,EAAAC,EAAAC,cAACqR,GAAA,EAAD,MACXC,SAAYxR,EAAAC,EAAAC,cAACuR,GAAA,EAAD,MACZhG,SAAYzL,EAAAC,EAAAC,cAACwR,GAAA,EAAD,OAoCb,IAUelS,eAVS,SAAA9B,GACvB,IAAMJ,EAAcI,EAAMyB,KAAK7B,YAC/B,MAAO,CACNuS,aAAoF,KAA1C,IAA3BnS,EAAMyB,KAAK7B,YAAoBI,EAAMgC,MAAQhC,EAAMe,OAAO+D,OACzElF,YAAaA,EACbC,aAAcqS,EAAMtS,GAAa6B,KACjCI,UAAWqQ,EAAMtS,GAAaiC,YAIQ,CAAE9B,YAAWU,WAAtCqB,CA3Cf,SAAkBG,GACjB,IAvBqBoQ,EAuBfxK,EAAUjC,KAERuM,EAA2ElQ,EAA3EkQ,aAAcvS,EAA6DqC,EAA7DrC,YAAaC,EAAgDoC,EAAhDpC,aAAcgC,EAAkCI,EAAlCJ,UAAW9B,EAAuBkC,EAAvBlC,UAAWU,EAAYwB,EAAZxB,QAEjE2R,EAAcD,GA3BCE,EA2B2BxQ,EAzB/CS,EAAAC,EAAAC,cAAA,OAAK4B,UAAU,mBACd9B,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAYC,QAAQ,KAAKrC,UAAU,OAAO2K,MAAM,WAAW8E,GAC3D/P,EAAAC,EAAAC,cAAC8N,GAAD,CAAOzL,KAAK,mBAuB+CiN,GAAQjS,GAGrE,OACCyC,EAAAC,EAAAC,cAACF,EAAAC,EAAM+P,SAAP,KACChQ,EAAAC,EAAAC,cAAC+P,EAAA,EAAD,CAAQ9I,SAAS,SAAS8D,MAAM,UAAUnK,UAAW,EAAGgB,UAAWyD,EAAQ8I,QAC1ErO,EAAAC,EAAAC,cAACgQ,EAAA,EAAD,CAASpO,UAAWyD,EAAQmJ,SAC3B1O,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAYC,QAAQ,KAAKrC,UAAU,KAAKwB,UAAWyD,EAAQqL,aAA3D,kBAGF5Q,EAAAC,EAAAC,cAAA,OAAK4B,UAAWyD,EAAQqJ,iBACtBkB,GAEF9P,EAAAC,EAAAC,cAACyR,GAAA,EAAD,CACC7S,MAAOxB,EACPuK,SAbiB,SAACwI,EAAGC,GAAJ,OAAiB7S,EAAU6S,IAc5CsB,YAAU,EACV9P,UAAWyD,EAAQ0L,WAElBrB,EAAM/P,IAAI,SAAAV,GAAI,OAAIa,EAAAC,EAAAC,cAAC2R,GAAA,EAAD,CAAwB3S,MAAOC,EAAKD,MAAOI,KAAM+R,GAAQlS,EAAKG,MAAOsB,IAAK,aAAezB,EAAKA,UAEhHyQ,EAAMtS,GAAa8B,eAAiBY,EAAAC,EAAAC,cAAC4R,GAAA,EAAD,CAAK7G,MAAM,UAAU8G,aAAW,MAAMjQ,UAAWyD,EAAQ4L,IAAK1Q,QAAS,kBAAMtC,EAAQZ,KAAeyC,EAAAC,EAAAC,cAAC8R,GAAA,EAAD,OAC1IhS,EAAAC,EAAAC,cAAC+R,GAAD,MACAjS,EAAAC,EAAAC,cAACyQ,GAAD,CAAgBnF,cAAeoE,EAAMtS,GAAa8B,6BCtFtC,SAAS8S,KACvB,IAAMC,EAAW9I,KAAmBrJ,EAAAC,EAAAC,cAACkS,GAAD,MAAqBpS,EAAAC,EAAAC,cAACmS,GAAD,MAEzD,OACCrS,EAAAC,EAAAC,cAACF,EAAAC,EAAM+P,SAAP,KACChQ,EAAAC,EAAAC,cAACoS,GAAA,EAAD,MACCH,sBCZEI,GAAapV,YAAY,CAC9BC,MAAO,QACPC,aAAc,GACdG,SAAU,CACTgV,YADS,SACG9U,EAAOC,GAClB,OAAOA,EAAOC,UAGhB6U,eAAaC,GAAA,GAAAvN,OAAAwN,GAAA,EAAAxN,CAAAuN,GACX3T,EAAW,SAACrB,EAAOC,GACnB,GAA2B,SAAxBA,EAAOC,QAAQe,KAAlB,CAGA,IAAMR,EAAUR,EAAOC,QAAQG,KACzB6U,EAAYlV,EAAMmV,UAAU,SAAA7O,GAAI,OAAIA,EAAKF,KAAO3F,EAAQ2F,MAC5C,IAAf8O,EACFlV,EAAMoV,KAAK3U,GAEXT,EAAMkV,GAAazU,KAVTgH,OAAAwN,GAAA,EAAAxN,CAAAuN,GAaX1T,EAAa,SAACtB,EAAOC,GACrB,GAA2B,SAAxBA,EAAOC,QAAQe,KAGlB,OAAOjB,EAAMgL,OAAO,SAAA1E,GAAI,OAAIA,EAAKF,KAAOnG,EAAOC,QAAQkG,OAjB5C4O,MAsBN7U,GAAqB0U,GAArB1U,QAASC,GAAYyU,GAAZzU,QACF0U,GAAgB3U,GAAhB2U,YACA1U,MChCTiV,GAAa5V,YAAY,CAC9BC,MAAO,QACPC,aAAc,GACdG,SAAU,CACTwV,YADS,SACGtV,EAAOC,GAClB,OAAOA,EAAOC,UAGhB6U,eAAaQ,GAAA,GAAA9N,OAAAwN,GAAA,EAAAxN,CAAA8N,GACXlU,EAAW,SAACrB,EAAOC,GACnB,GAA2B,SAAxBA,EAAOC,QAAQe,KAAlB,CAGA,IAAMR,EAAUR,EAAOC,QAAQG,KACzB6U,EAAYlV,EAAMmV,UAAU,SAAA7O,GAAI,OAAIA,EAAKF,KAAO3F,EAAQ2F,MAC5C,IAAf8O,EACFlV,EAAMoV,KAAK3U,GAEXT,EAAMkV,GAAazU,KAVTgH,OAAAwN,GAAA,EAAAxN,CAAA8N,GAaXjU,EAAa,SAACtB,EAAOC,GACrB,GAA2B,SAAxBA,EAAOC,QAAQe,KAGjB,OAAOjB,EAAMgL,OAAO,SAAAjE,GAAI,OAAIA,EAAKX,KAAOnG,EAAOC,QAAQkG,KAFvDpG,EAAMwV,QAAQ,SAAAzO,GAAI,OAAIA,EAAKhG,MAAQgG,EAAKhG,MAAMiK,OAAO,SAAArG,GAAK,OAAIA,EAAMiC,SAAW3G,EAAOC,QAAQkG,SAfpFmP,MAuBNpV,GAAqBkV,GAArBlV,QAASC,GAAYiV,GAAZjV,QACFkV,GAAgBnV,GAAhBmV,YCnBAxV,GATE,CAChBkC,MAAOyT,GACP1U,MD2BcX,GC1BdqB,KAAMiU,EACNjL,OAAQkL,EACRnP,aCViB/G,YAAY,CAC7BC,MAAO,eACPC,aAAc,CACb,CAACyG,GAAI,EAAG5E,MAAO,OAAQJ,MAAO,IAAKgG,WAAY,KAC/C,CAAChB,GAAI,EAAG5E,MAAO,IAAKJ,MAAO,EAAGgG,WAAY,KAE3CtH,SAAU,KAIHM,QDCP2N,SAAU6H,cEbLC,GAAY,CACjB,CAACzP,GAAI,EAAG1F,MAAO,UAAWC,QAAS,GAAIC,MAAO,EAAGC,IAAK,IAAKC,cAAe,GAC1E,CAACsF,GAAI,EAAG1F,MAAO,OAAQC,QAAS,GAAIC,MAAO,EAAGC,IAAK,GAAIC,cAAe,GACtE,CAACsF,GAAI,EAAG1F,MAAO,UAAWC,QAAS,IAAKC,MAAO,GAAIC,IAAK,EAAGC,cAAe,GAC1E,CAACsF,GAAI,EAAG1F,MAAO,UAAWC,QAAS,EAAGC,MAAO,EAAGC,IAAK,GAAKC,cAAe,GACzE,CAACsF,GAAI,EAAG1F,MAAO,gBAAiBC,QAAS,EAAGC,MAAO,EAAGC,IAAK,GAAKC,cAAe,GAC/E,CAACsF,GAAI,EAAG1F,MAAO,UAAWC,QAAS,GAAIC,MAAO,GAAIC,IAAK,EAAGC,cAAe,GACzE,CAACsF,GAAI,EAAG1F,MAAO,SAAUC,QAAS,GAAIC,MAAO,GAAKC,IAAK,GAAKC,cAAe,IAGtEgV,GAAY,CACjB,CACC1P,GAAI,EACJ1F,MAAO,QACPK,MAAO,CACN,CAACqF,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,KAC3B,CAACT,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,KAC3B,CAACT,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,KAC3B,CAACT,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,OAG7B,CACCT,GAAI,EACJ1F,MAAO,SACPK,MAAO,CACN,CAACqF,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,KAC3B,CAACT,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,KAC3B,CAACT,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,MAG7B,CACCT,GAAI,EACJ1F,MAAO,SACPK,MAAO,CACN,CAACqF,GAAI,EAAGQ,OAAQ,EAAGC,OAAQ,MCd9B,IAAMkP,GAAYC,aAAO,cAAe,EAAG,CAC1CC,QAD0C,SAClCC,EAAIC,GACX,GAAIA,EAAa,EAAG,CACnB,IAAMC,EAAYF,EAAGG,kBAhBT,QAgBmC,CAC9CC,QAAS,KACTC,eAAe,IAEhBH,EAAUI,YAAY,KAAM,MAdTC,EAeNL,EAdfP,GAAUL,QAAQ,SAAAnV,GAAI,OAAIoW,EAAMC,IAAIrW,KAgBlC,IAAMsW,EAAYT,EAAGG,kBAtBT,QAsBmC,CAC9CC,QAAS,KACTC,eAAe,IAEhBI,EAAUH,YAAY,KAAM,MAlB/B,SAAsBC,GACrBX,GAAUN,QAAQ,SAAAzO,GAAI,OAAI0P,EAAMC,IAAI3P,KAkBlC6P,CAAaD,GAEaT,EAAGG,kBA5BV,cA4B2C,CAC7DC,QAAS,KACTC,eAAe,IAEEC,YAAY,KAAM,MAEdN,EAAGG,kBAjCT,YAkCFK,KAAI,EAAO,uBA/B5B,IAAsBD,KAqCtB,SAASI,GAAaC,GAErB,IAAMC,EAAM,eAAA7G,EAAAzI,OAAAuP,EAAA,EAAAvP,CAAAwP,EAAA1U,EAAA2U,KAAG,SAAAC,EAAMV,GAAN,IAAAW,EAAAC,EAAA,OAAAJ,EAAA1U,EAAAgD,KAAA,SAAA+R,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACXf,EAAMM,OADK,CAAAO,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEAf,EAAMM,OAAOD,GAFb,cAAAQ,EAAAG,OAAA,SAAAH,EAAAI,MAAA,cAKRN,EAAS,GALDE,EAAAE,KAAA,EAMKf,EAAMkB,aANX,OAMVN,EANUC,EAAAI,KAAA,WAOPL,EAPO,CAAAC,EAAAE,KAAA,gBAQbJ,EAAOhC,KAAKiC,EAAOjW,OARNkW,EAAAE,KAAA,GASEH,EAAOO,WATT,QASbP,EATaC,EAAAI,KAAAJ,EAAAE,KAAA,uBAAAF,EAAAG,OAAA,SAWPL,GAXO,yBAAAE,EAAAO,SAAAV,MAAH,gBAAAW,GAAA,OAAA5H,EAAAhB,MAAAC,KAAAN,YAAA,GAcZ,MAAO,CACNkI,OAAQ,kBAAMhB,GAAUgC,KAAK,SAAAtB,GAAK,OAAIM,EAAON,MAC7CuB,IAAK,SAAA9U,GAAG,OAAI6S,GAAUgC,KAAK,SAAAtB,GAAK,OAAIA,EAAMuB,IAAIlB,EAAiB5T,MAC/D+U,KAAM,SAAA5X,GAAI,OAAI0V,GAAUgC,KACtB,SAAAtB,GAAK,OAAIA,EAAMyB,IAAIpB,EAAiBzW,GACnC0X,KAAK,SAAA7U,GAAG,OAAIuT,EAAMuB,IAAIlB,EAAiB5T,QAC1CiV,OAAU,SAAA/R,GAAE,OAAI2P,GAAUgC,KAAK,SAAAtB,GAAK,OAAIA,EAAM0B,OAAOrB,EAAiB1Q,MACtE8R,IAAK,SAAC9W,EAAO8B,GAAR,OAAgB6S,GAAUgC,KAAK,SAAAtB,GAAK,OAAIA,EAAMyB,IAAIpB,EAAiB1V,EAAO8B,MAC/EkV,MAAO,kBAAMrC,GAAUgC,KAAK,SAAAtB,GAAK,OAAIA,EAAM2B,MAAMtB,OAK5C,SAAeuB,KAAtB,OAAAC,GAAApJ,MAAAC,KAAAN,wDAAO,SAAA0J,IAAA,OAAAtB,EAAA1U,EAAAgD,KAAA,SAAAiT,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAhB,KAAA,EAEQiB,GAAOnS,KAAKyQ,SAFpB,cAAAyB,EAAAE,GAAAF,EAAAd,KAAAc,EAAAhB,KAAA,EAGQiB,GAAO1R,KAAKgQ,SAHpB,cAAAyB,EAAAG,GAAAH,EAAAd,KAAAc,EAAAhB,KAAA,EAKwBiB,GAAO1K,SAASiK,IAAI,uBAL5C,cAAAQ,EAAAI,IAAAJ,EAAAd,KAAAc,EAAAK,GAAA,CAKJnL,mBALI8K,EAAAI,IAAAJ,EAAAf,OAAA,UAELzV,MAFKwW,EAAAE,GAGL3X,MAHKyX,EAAAG,GAIL5K,SAJKyK,EAAAK,KAAA,yBAAAL,EAAAX,SAAAU,6BAWP,IAAME,GAAS,CACd1R,KAAM8P,GAnFQ,SAoFdvQ,KAAMuQ,GArFQ,SAsFdvK,YAAauK,GApFQ,eAqFrB9I,SAAU8I,GApFQ,aAwFNvJ,GAAU,SAAAmJ,GAAK,OAAI,SAAAe,GAAI,OAAI,SAAAvX,GACvC,IAAIA,EAAOC,UAAYD,EAAOC,QAAQoN,QACrC,OAAOkK,EAAKvX,GAEb,OAAQA,EAAOgB,MACd,KAAKI,EAASJ,KAEb,IAAMR,EAAOgH,OAAA+C,EAAA,EAAA/C,CAAA,GAAOxH,EAAOC,QAAQG,MASnC,CAAC,UAAW,QAAS,OAAOmV,QARX,SAAA9O,GACM,KAAlBjG,EAAQiG,IAAgB2E,MAAM5K,EAAQiG,IACzCjG,EAAQiG,GAAQ,EAGhBjG,EAAQiG,GAAQ0E,WAAW3K,EAAQiG,MAKrCoS,QAAQC,QAAQN,GAAOxY,EAAOC,QAAQe,MAAMgX,KAAKxX,GAASsX,KACzD,SAAA1X,GAAI,MAAK,CAACY,KAAMhB,EAAOgB,KAAMf,QAAS,CAACG,KAAMA,EAAMY,KAAMhB,EAAOC,QAAQe,UACxE8W,KAAKtB,EAAMuC,UACZ,MAED,KAAK1X,EAAWL,KACf6X,QAAQC,QAAQN,GAAOxY,EAAOC,QAAQe,MAAMkX,OAAOlY,EAAOC,QAAQkG,IAAI2R,KACrE,iBAAO,CAAC9W,KAAMhB,EAAOgB,KAAMf,QAAS,CAACkG,GAAInG,EAAOC,QAAQkG,GAAInF,KAAMhB,EAAOC,QAAQe,UACjF8W,KAAKtB,EAAMuC,UACZ,MAED,KAAKvL,GAAsBxM,KAC1B6X,QAAQC,QAAQN,GAAO1K,SAASmK,KAAI,EAAM,wBAAwBH,KAAK,kBAAMtB,EAAMuC,SAAS,CAAC/X,KAAMhB,EAAOgB,SAC1G,MAED,KAAK0M,GAAU1M,KACd6X,QAAQC,QACPD,QAAQG,IAAI,CACXR,GAAOnS,KAAK8R,QAAQL,KAAK,kBAAMtB,EAAMuC,SAASlE,GAAY,OAC1D2D,GAAO1R,KAAKqR,QAAQL,KAAK,kBAAMtB,EAAMuC,SAAS1D,GAAY,UACvDyC,KAAK,cACV,MAED,QACC,WChIiBpN,QACW,cAA7BuO,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,wGCPN,SAAAlC,IAAA,IAAAV,EAAA,OAAAQ,EAAA1U,EAAAgD,KAAA,SAAA+R,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAoB,GACeY,IADfhC,EAAAqB,GAEW7Y,GAFXwX,EAAAE,KAAA,EAGwBa,KAHxB,OAAAf,EAAAsB,GAAAtB,EAAAI,KAAAJ,EAAAuB,GAAA,CAKGvL,IALH1I,OAAA6C,OAAA8R,EAAA,EAAA9R,CAMM+R,gBANNlC,EAAAmC,GAAA,CAEErZ,QAFFkX,EAAAqB,GAGEe,eAHFpC,EAAAsB,GAIEe,WAJFrC,EAAAuB,IACOpC,GADP,EAAAa,EAAAoB,IAAApB,EAAAmC,IASCG,IAASC,OAAOvX,EAAAC,EAAAC,cAACsX,EAAA,EAAD,CAAUrD,MAAOA,GAAOnU,EAAAC,EAAAC,cAACgS,GAAD,OAAoBuF,SAASC,eAAe,SATrF,wBAAA1C,EAAAO,SAAAV,kEAYA8C,GD0GM,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMrC,KAAK,SAAAsC,GACjCA,EAAaC","file":"static/js/main.0384caae.chunk.js","sourcesContent":["import { createSlice } from 'redux-starter-kit';\r\n\r\n\r\nconst viewSlice = createSlice({\r\n\tslice: 'view',\r\n\tinitialState: {\r\n\t\tselectedTab: 0,\r\n\t\tselectedView: 'food'\r\n\t},\r\n\treducers: {\r\n\t\tselectTab(state, action) {\r\n\t\t\treturn {\r\n\t\t\t\tselectedTab: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = viewSlice;\r\nexport const { selectTab } = actions;\r\nexport default reducer;","import { createSlice } from 'redux-starter-kit';\r\n\r\nconst getDefaultState = () => ({\r\n\titem: null,\r\n\tisNew: false,\r\n\titemType: null\r\n});\r\n\r\nconst viewSlice = createSlice({\r\n\tslice: 'detail',\r\n\tinitialState: getDefaultState(),\r\n\treducers: {\r\n\t\tcloseItem: (state, action) => getDefaultState(),\r\n\t\tnewItem(state, action) {\r\n\t\t\tconst newItem = action.payload === 'food' ?\r\n\t\t\t\t{title: '', protein: 0, carbs: 0, fat: 0, servingSizeId: 0} :\r\n\t\t\t\t{title: '', meals: []};\r\n\t\t\tstate.isNew = true;\r\n\t\t\tstate.itemType = action.payload;\r\n\t\t\tstate.item = newItem;\r\n\t\t},\r\n\t\teditItem(state, action) {\r\n\t\t\tstate.item = action.payload.item;\r\n\t\t\tstate.itemType = action.payload.type;\r\n\t\t},\r\n\t\tupdateItem(state, action) {\r\n\t\t\tstate.item[action.payload.field] = action.payload.value;\r\n\t\t},\r\n\t\tsaveItem: (state, action) => getDefaultState(),\r\n\t\tdeleteItem: (state, action) => getDefaultState()\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = viewSlice;\r\nexport const { closeItem, newItem, editItem, updateItem, saveItem, deleteItem } = actions;\r\nexport default reducer;","export default [\r\n\t{\r\n\t\tlabel: 'Database',\r\n\t\tview: 'food',\r\n\t\tshowNewButton: true,\r\n\t\tbuttonLabel: 'ADD FOOD',\r\n\t\ticon: 'storage',\r\n\t\temptyText: 'Add new foods here!'\r\n\t},\r\n\t{\r\n\t\tlabel: 'Meals',\r\n\t\tview: 'meal',\r\n\t\tshowNewButton: true,\r\n\t\tbuttonLabel: 'ADD MEAL',\r\n\t\ticon: 'fastfood',\r\n\t\temptyText: 'Add new meals here!'\r\n\t},\r\n\t{\r\n\t\tlabel: 'Settings',\r\n\t\tview: 'settings',\r\n\t\tshowNewButton: false,\r\n\t\ticon: 'settings'\r\n\t}\r\n];","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { editItem } from '../reducers/detailReducer';\r\n\r\nimport { Paper, List, ListItem, ListItemText } from '@material-ui/core';\r\n\r\nfunction FoodList(props) {\r\n\r\n\tconst { items, editItem } = props;\r\n\r\n\tconst onItemClicked = (event, index) => editItem({item: props.items[index], type: 'food'});\r\n\r\n\tconst listItems = items.map((item, index) => {\r\n\t\tconst listItemText = !!item.title ?\r\n\t\t\t<ListItemText primary={item.title} /> :\r\n\t\t\t<ListItemText primary=\"No Title\" primaryTypographyProps={{component: 'i'}} />\r\n\r\n\t\treturn (\r\n\t\t\t<ListItem button onClick={event => onItemClicked(event, index)} key={index}>\r\n\t\t\t\t{listItemText}\r\n\t\t\t</ListItem>\r\n\t\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Paper elevation={props.elevation}>\r\n\t\t\t<List disablePadding>\r\n\t\t\t\t{listItems}\r\n\t\t\t</List>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\titems: state.foods\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps, {editItem})(FoodList);","import React from 'react';\r\nimport {\r\n  PieChart, Pie, Cell\r\n} from 'recharts';\r\n\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport './CalorieDisplay.css';\r\n\r\n\r\nfunction CalorieDisplay(props) {\r\n\tconst data = [\r\n\t\t{group: 'Protein', value: props.data.protein * 4},\r\n\t\t{group: 'Carbs', value: props.data.carbs * 4},\r\n\t\t{group: 'Fat', value: props.data.fat * 9}\r\n\t];\r\n\r\n\tconst cals = data.reduce((cals, macro) => cals += macro.value, 0);\r\n\r\n\tconst colors = ['#0088FE', '#00C49F', '#FFBB28'];\r\n\tconst pieBackgroundStyle = {width: props.size, height: props.height, border: props.size / 10 + 'px solid #ddd', borderRadius: props.size};\r\n\treturn (\r\n\t\t<div className=\"calorie-display-wrapper\">\t\r\n\t\t\t<div className=\"calorie-display-graphic\">\r\n\t\t\t\t<PieChart width={props.size} height={props.size} margin={{}}>\r\n\t\t\t\t\t<Pie\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\touterRadius=\"100%\"\r\n\t\t\t\t\t\tinnerRadius=\"80%\"\r\n\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\tisAnimationActive={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata.map((entry, index) => <Cell key={`cell-${index}`} fill={colors[index % colors.length]} />)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Pie>\r\n\t\t\t\t</PieChart>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"calorie-display-graphic\" style={pieBackgroundStyle}></div>\r\n\t\t\t<Typography variant=\"h5\" component=\"span\" className=\"calorie-display-count\">{cals.toFixed(1)}</Typography>\r\n\t\t\t<Typography variant=\"h6\" component=\"span\" className=\"calorie-display-label\">Cals</Typography>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CalorieDisplay;\r\n","import React from 'react';\r\nimport CalorieDisplay from './CalorieDisplay';\r\n\r\nimport { Grid, Typography } from '@material-ui/core';\r\n\r\nfunction MacrosPanel(props) {\r\n\treturn (\r\n\t\t<Grid container spacing={3}  wrap=\"nowrap\">\r\n\t\t\t<Grid item>\r\n\t\t\t\t<CalorieDisplay data={props.data} size={props.size || 160} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item container alignItems=\"center\" direction=\"column\" justify=\"space-evenly\">\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography>Protein</Typography>\r\n\t\t\t\t\t<Typography>{props.data.protein.toFixed(1)}g</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography>Carbs</Typography>\r\n\t\t\t\t\t<Typography>{props.data.carbs.toFixed(1)}g</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography>Fat</Typography>\r\n\t\t\t\t\t<Typography>{props.data.fat.toFixed(1)}g</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default MacrosPanel;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Paper, Grid, Divider, List, ListItem, ListItemText, Typography, Button, Collapse, Box, ButtonBase } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport MacrosPanel from './MacrosPanel';\r\nimport { editItem } from '../reducers/detailReducer';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardPadding: {\r\n\t\tpadding: '1rem'\r\n\t},\r\n\tcardActionArea: {\r\n\t\tpadding: '0.5em'\r\n\t}\r\n}));\r\n\r\n\r\nfunction MealCard(props) {\r\n\tconst [expanded, setExpanded] = React.useState(false);\r\n\tconst classes = useStyles();\r\n\r\n\tconst { meal, macroTotals, editItem, getTitle, getAmountLabel } = props;\r\n\r\n\tconst mealEntries = meal.meals.map((mealEntry, index) => {\r\n\t\treturn (\r\n\t\t\t<ListItem key={index}>\r\n\t\t\t\t<ListItemText primary={getTitle(mealEntry)} secondary={mealEntry.amount + getAmountLabel(mealEntry)} />\r\n\t\t\t</ListItem>\r\n\t\t\t);\r\n\t});\r\n\r\n\tconst onExpandClicked = () => setExpanded(!expanded);\r\n\tconst onMealCardClicked = () => editItem({item: meal, type: 'meal'});\r\n\r\n\treturn (\r\n\t\t<Paper>\r\n\t\t\t<Grid container direction=\"column\">\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography variant=\"h6\" component=\"h2\" className={classes.cardPadding}>{meal.title}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<ButtonBase onClick={onMealCardClicked}>\r\n\t\t\t\t\t\t<Grid container direction=\"column\">\r\n\t\t\t\t\t\t\t<Grid item className={classes.cardPadding}>\r\n\t\t\t\t\t\t\t\t<MacrosPanel data={macroTotals} size={200} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n\t\t\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t\t\t{mealEntries}\r\n\t\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</ButtonBase>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Divider/>\r\n\t\t\t<Box className={classes.cardActionArea}>\r\n\t\t\t\t<Button className={classes.button} onClick={onExpandClicked}>{expanded ? 'COLLAPSE' : 'EXPAND'}</Button>\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\tconst getFoodItem = id => state.foods.find(food => food.id === id);\r\n\tconst getServingSize = food => state.servingSizes.find(size => size.id === food.servingSizeId);\r\n\t\r\n\tconst sumFunc = name => {\r\n\t\treturn (agg, item) => {\r\n\t\t\tconst food = getFoodItem(item.foodId);\r\n\t\t\treturn agg + (food[name] * (item.amount / getServingSize(food).value));\r\n\t\t};\r\n\t};\r\n\r\n\tconst getMacroTotals = meal => {\r\n\t\treturn {\r\n\t\t\tprotein: meal.meals.reduce(sumFunc('protein'), 0),\r\n\t\t\tcarbs: meal.meals.reduce(sumFunc('carbs'), 0),\r\n\t\t\tfat: meal.meals.reduce(sumFunc('fat'), 0)\r\n\t\t}\r\n\t};\r\n\r\n\tconst { meal } = ownProps;\r\n\r\n\treturn {\r\n\t\tmacroTotals: getMacroTotals(meal),\r\n\t\tgetTitle: mealEntry => getFoodItem(mealEntry.foodId).title,\r\n\t\tgetAmountLabel: mealEntry => getServingSize(getFoodItem(mealEntry.foodId)).valueLabel\r\n\t};\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { editItem })(MealCard);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MealCard from './MealCard';\r\n\r\nimport { Grid } from '@material-ui/core';\r\n\r\nfunction MealContainer(props) {\r\n\tconst mealCards = props.items.map((item, index) => <Grid item key={item.id}><MealCard meal={item} /></Grid>)\r\n\treturn (\r\n\t\t<Grid container spacing={2} justify=\"center\">\r\n\t\t\t{mealCards}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\titems: state.meals\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps)(MealContainer);","import React from 'react';\r\nimport { Paper, Typography, TextField, InputAdornment, ButtonBase, Box } from '@material-ui/core';\r\nimport { CheckBox, CheckBoxOutlineBlank } from \"@material-ui/icons\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcard: {\r\n\t\twidth: '160px',\r\n\t},\r\n\tcardSelected: {\r\n\t\tbackgroundColor: 'rgba(0, 191, 255, 0.05)'\r\n\t},\r\n\tcardHeader: {\r\n\t\tpadding: theme.spacing(1),\r\n\t\twidth: '100%'\r\n\t},\r\n\tcardHeaderText: {\r\n\t\tflexGrow: 1\r\n\t},\r\n\tcardBody: {\r\n\t\tpadding: theme.spacing(1)\r\n\t}\r\n}));\r\n\r\nfunction MealEntryCard(props) {\r\n\tconst classes = useStyles();\r\n\tlet rootClass = classes.card;\r\n\tif(props.checked) {\r\n\t\trootClass = rootClass + ' ' + classes.cardSelected;\r\n\t}\r\n\r\n\tconst onAmountChanged = event => props.onAmountChanged(event.target.value);\r\n\tconst textFieldAdornment = props.amountLabel ?\r\n\t\t{endAdornment: <InputAdornment position=\"end\">{props.amountLabel}</InputAdornment>}:null;\r\n\r\n\treturn (\r\n\t\t<Paper className={rootClass}>\r\n\t\t\t<ButtonBase onClick={props.onChecked} className={classes.cardHeader}>\r\n\t\t\t\t<Typography align=\"left\" className={classes.cardHeaderText}>{props.title}</Typography>\r\n\t\t\t\t{props.checked ? <CheckBox fontSize=\"small\" htmlColor=\"#189ad3\" /> : <CheckBoxOutlineBlank fontSize=\"small\" htmlColor=\"#189ad3\" />}\r\n\t\t\t</ButtonBase>\r\n\t\t\t<Box className={classes.cardBody}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"amount\"\r\n\t\t\t\t\tlabel=\"Amount\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tdisabled={!props.checked}\r\n\t\t\t\t\tvalue={props.amount}\r\n\t\t\t\t\tonChange={onAmountChanged}\r\n\t\t\t\t\tInputProps={textFieldAdornment}\r\n\t\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t\t);\r\n}\r\n\r\nexport default MealEntryCard;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { TextField, Grid } from '@material-ui/core';\r\n\r\nimport MealEntryCard from './MealEntryCard';\r\nimport { updateItem } from '../reducers/detailReducer';\r\n\r\nfunction MealDetailPanel(props) {\r\n\tconst { item, foodList, updateItem } = props;\r\n\r\n\tif(!item) return null;\r\n\r\n\tconst isSelected = food => Boolean(item.meals.find(mealEntry => mealEntry.foodId === food.id));\r\n\tconst getAmount = food => ((item.meals.find(mealEntry => mealEntry.foodId === food.id) || {}).amount || 0);\r\n\tconst foodCardItems = foodList.map(food => ({...food, selected: isSelected(food), amount: getAmount(food)}));\r\n\r\n\tconst onChangeTitle = event => updateItem({field: 'title', value: event.target.value});\r\n\r\n\tconst update = () => {\r\n\t\tconst mealEntries = foodCardItems.filter(item => item.selected).map(item => ({amount: item.amount, foodId: item.id}));\r\n\t\tupdateItem({field: 'meals', value: mealEntries})\r\n\t}\r\n\r\n\tconst createCheckHandler = index => () => {\r\n\t\tfoodCardItems[index].selected = !foodCardItems[index].selected;\r\n\t\tupdate();\r\n\t};\r\n\r\n\tconst createAmountChangedHandler = index => amount => {\r\n\t\tconst fAmount = parseFloat(amount);\r\n\t\tif(isNaN(fAmount)) {\r\n\t\t\tthrow Error('amount is not a float');\r\n\t\t}\r\n\t\tfoodCardItems[index].amount = fAmount;\r\n\t\tupdate();\r\n\t};\r\n\r\n\tconst mealEntryCards = foodCardItems.map((item, index) => {\r\n\t\treturn (\r\n\t\t\t<Grid item key={item.id}>\r\n\t\t\t\t<MealEntryCard\r\n\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\tamountLabel={item.amountLabel}\r\n\t\t\t\t\tamount={item.amount}\r\n\t\t\t\t\tchecked={item.selected}\r\n\t\t\t\t\tonChecked={createCheckHandler(index)}\r\n\t\t\t\t\tonAmountChanged={createAmountChangedHandler(index)}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>)\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction=\"column\">\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\tonChange={onChangeTitle}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item container xs spacing={2} justify=\"center\">\r\n\t\t\t\t{mealEntryCards}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\tconst getServingSize = food => state.servingSizes.find(size => size.id === food.servingSizeId);\r\n\treturn {\r\n\t\tfoodList: state.foods.map(food => ({...food, amountLabel: getServingSize(food).valueLabel})),\r\n\t\titem: state.detail.item,\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { updateItem })(MealDetailPanel);","import { useMediaQuery, useTheme } from '@material-ui/core';\r\n\r\nexport default function useCheckMobile() {\r\n\tconst theme = useTheme();\r\n\treturn useMediaQuery(theme.breakpoints.down('xs'));\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Grid, TextField, InputAdornment, Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\r\n\r\nimport CalorieDisplay from './CalorieDisplay';\r\nimport { updateItem } from '../reducers/detailReducer';\r\nimport useCheckMobile from '../useCheckMobile';\r\n\r\n\r\nfunction FoodDetailPanel(props) {\r\n\tconst { item, servingSizes, updateItem } = props;\r\n\tconst isMobile = useCheckMobile();\r\n\tif (!item) return null;\r\n\r\n\tconst createHandler = (name, isFloat) => event => {\r\n\t\tlet value = event.target.value;\r\n\t\tif(isFloat && isNaN(value)) {\r\n\t\t\tvalue = item[name];\r\n\t\t}\r\n\t\tupdateItem({field: name, value: value});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Grid container direction=\"column\" spacing={2}>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<CalorieDisplay data={item} size={220} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\tonChange={createHandler('title')}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype={isMobile ? 'number' : 'text'}\r\n\t\t\t\t\tlabel=\"Protein\"\r\n\t\t\t\t\tid=\"protein\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.protein}\r\n\t\t\t\t\tonChange={createHandler('protein', true)}\r\n\t\t\t        InputProps={{\r\n\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype={isMobile ? 'number' : 'text'}\r\n\t\t\t\t\tlabel=\"Carbs\"\r\n\t\t\t\t\tid=\"carbs\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.carbs}\r\n\t\t\t\t\tonChange={createHandler('carbs', true)}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype={isMobile ? 'number' : 'text'}\r\n\t\t\t\t\tlabel=\"Fat\"\r\n\t\t\t\t\tid=\"fat\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.fat}\r\n\t\t\t\t\tonChange={createHandler('fat', true)}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t<InputLabel>Serving Size</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabel=\"Serving Size\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={item.servingSizeId}\r\n\t\t\t\t\t\tonChange={createHandler('servingSizeId')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{servingSizes.map(servingSize => <MenuItem key={servingSize.id} value={servingSize.id}>{servingSize.label}</MenuItem>)}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\titem: state.detail.item,\r\n\t\tservingSizes: state.servingSizes\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps, { updateItem })(FoodDetailPanel);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { closeItem, saveItem, deleteItem } from '../reducers/detailReducer';\r\nimport MealDetailPanel from './MealDetailPanel';\r\nimport FoodDetailPanel from './FoodDetailPanel';\r\n\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialogRoot: {\r\n\t\tmaxheight: 600\r\n\t}\r\n}));\r\n\r\nfunction DetailDialog(props) {\r\n\tconst classes = useStyles();\r\n\tconst { item, title, itemType, size, isNew, closeItem, saveItem, deleteItem } = props;\r\n\r\n\tif(!item) return null;\r\n\r\n\tconst onClose = () => closeItem();\r\n\tconst onSave = () => saveItem({item: item, type: itemType, persist: true});\r\n\tconst onDelete = () => deleteItem({id: item.id, type: itemType, persist: true});\r\n\treturn (\r\n\t\t<Dialog open={Boolean(item)} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth={size} fullWidth>\r\n\t\t\t<DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n\t\t\t<DialogContent dividers className={classes.dialogRoot}>\r\n\t\t\t\t{itemType === 'food' ? <FoodDetailPanel /> : <MealDetailPanel />}\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button onClick={onClose}>Close</Button>\r\n\t\t\t\t{!isNew && <Button onClick={onDelete} color=\"secondary\">Delete</Button>}\r\n\t\t\t\t<Button onClick={onSave} color=\"primary\">Save</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\tconst sharedState = {\r\n\t\titem: state.detail.item,\r\n\t\tisNew: state.detail.isNew,\r\n\t\titemType: state.detail.itemType\r\n\t};\r\n\tif(state.detail.itemType === 'food') {\r\n\t\treturn {\r\n\t\t\t...sharedState,\r\n\t\t\tsize: 'xs',\r\n\t\t\ttitle: (state.detail.isNew ? 'Add' : 'Edit') + ' Food'\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\t...sharedState,\r\n\t\tsize: 'sm',\r\n\t\ttitle: (state.detail.isNew ? 'Add' : 'Edit') + ' Meal'\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { closeItem, saveItem, deleteItem })(DetailDialog);","import { createSlice } from 'redux-starter-kit';\r\n\r\nconst settingsSlice = createSlice({\r\n\tslice: 'settings',\r\n\tinitialState: {},\r\n\treducers: {\r\n\t\tdismissDemoDataNotice(state, action) {\r\n\t\t\tstate.showDemoDataNotice = false;\r\n\t\t},\r\n\t\tclearData(state, action) {}\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = settingsSlice;\r\nexport const { dismissDemoDataNotice, clearData } = actions;\r\nexport default reducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Paper, List, ListItem, ListItemText, Button } from '@material-ui/core';\r\nimport { clearData } from '../reducers/settingsReducer';\r\n\r\nfunction SettingsPanel(props) {\r\n\r\n\tconst { clearData } = props;\r\n\r\n\tconst onClearData = () => clearData({persist: true});\r\n\r\n\treturn (\r\n\t\t<Paper elevation={props.elevation}>\r\n\t\t\t<List disablePadding>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText primary=\"Clear Data\" />\r\n\t\t\t\t\t<Button variant=\"outlined\" color=\"secondary\" onClick={onClearData}>Clear</Button>\r\n\t\t\t\t</ListItem>\r\n\t\t\t</List>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nexport default connect(null, { clearData })(SettingsPanel);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, IconButton, Snackbar } from \"@material-ui/core\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport { selectTab } from '../reducers/viewReducer';\r\nimport { dismissDemoDataNotice } from '../reducers/settingsReducer';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\t'snackbar': {\r\n\t\tbottom: props => {\r\n\t\t\tif(props.placeAboveFab)\r\n\t\t\t\treturn 'calc(2em + 55px + 56px)';\r\n\t\t\treturn 'calc(1em + 55px)';\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nfunction DemoDataNotice(props) {\r\n\tconst { open, selectTab, dismissDemoDataNotice } = props;\r\n\tconst classes = useStyles({placeAboveFab: props.placeAboveFab});\r\n\r\n\tconst onClose = () => dismissDemoDataNotice({persist: true});\r\n\r\n\tconst onClickLink = () => {\r\n\t\t// selects settings tab\r\n\t\tselectTab(2);\r\n\t\tonClose();\r\n\t}\r\n\r\n\tconst settingsLink = <Link component=\"button\" variant=\"body2\" color=\"secondary\" onClick={onClickLink}>Settings</Link>;\r\n\tconst messageBody = <span>We've added some demo data! If you want to clear it, go to {settingsLink}.</span>;\r\n\tconst actions = [<IconButton key=\"close\" color=\"inherit\" onClick={onClose}><CloseIcon /></IconButton>];\r\n\r\n\treturn open && (\r\n\t\t<Snackbar\r\n\t\t\tanchorOrigin={{vertical: 'bottom', horizontal: 'center'}}\r\n\t\t\tkey=\"demoDataNotice\"\r\n\t\t\topen={open}\r\n\t\t\tonClose={onClose}\r\n\t\t\tmessage={messageBody}\r\n\t\t\taction={actions}\r\n\t\t\tclassName={classes.snackbar}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({ open: state.settings.showDemoDataNotice });\r\n\r\nexport default connect(mapStateToProps, { selectTab, dismissDemoDataNotice })(DemoDataNotice);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.064 36.904c-3.46 62.976-22.019 124.532-46.448 182.35-49.574 116.458-143.509 210.479-254.802 269.07-26.653 14.06-54.612 26.988-83.44 35.192l-39.345-4.963C-26.759 486.15 66.54 422.757 135.724 339.714c65.661-81.085 107.168-182.101 115.881-286.148-5.302-18.073 6.684-17.981 20.466-16.662h21.993z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.778 38.441c-32.711 66.282-78.277 126.848-134.429 175.084-27.038 22.595-58.643 43.026-93.792 48.428l-38.398-5.107c70.8-15.671 124.527-69.866 167.634-125.076 21.734-29.854 43.083-60.554 56.863-95.035l42.122 1.706z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.741 36.555c13.952 71.51 43.174 139.958 82.589 201.088 3.748 11.42 35.43 31.122 24.491 34.844l-34.556 2.612c-46.053-45.121-70.347-106.478-93.406-165.37-4.943-22.093-24.341-56.573-17.058-72.547l37.94-.627z\"\n});\n\nvar SvgArrow = function SvgArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 273.586 547.228\",\n    height: 104,\n    width: 104,\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow.eec47024.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { AppBar, Toolbar, Tabs, Tab, Button, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nimport { selectTab } from '../reducers/viewReducer';\r\nimport { newItem } from '../reducers/detailReducer';\r\nimport views from '../screenDefinitions';\r\nimport FoodList from './FoodList';\r\nimport MealContainer from './MealContainer';\r\nimport DetailDialog from './DetailDialog';\r\nimport SettingsPanel from './SettingsPanel';\r\nimport DemoDataNotice from './DemoDataNotice';\r\nimport { ReactComponent as Arrow } from '../vectors/arrow.svg';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst appDimensions = {\r\n\t\twidth: `calc(100% - ${theme.spacing(2)}px)`,\r\n\t\tmaxWidth: 968\r\n\t};\r\n\treturn {\r\n\t\tappBar: {\r\n\t\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\t\talignItems: 'center',\r\n\t\t\tflex: 'none'\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\t...appDimensions\r\n\t\t},\r\n\t\ttoolbarContent: {\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tscrollContainer: {\r\n\t\t\toverflow: 'hidden auto',\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\ttabContentWrapper: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\tmarginRight: 'calc(100% - 100vw)'\r\n\t\t},\r\n\t\ttabContent: {\r\n\t\t\t...appDimensions,\r\n\t\t\tpadding: '1em 0',\r\n\t\t\theight: '100%',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\temptyContent: {\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tcolor: '#ddd',\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\tpaddingRight: '3.5em',\r\n\t\t\theight: 133\r\n\t\t},\r\n\t\temptyContentText: {\r\n\t\t\talignSelf: 'flex-end',\r\n\t\t\tpaddingRight: '0.5em'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction emptyContent(text, classes) {\r\n\treturn (\r\n\t\t<div className={classes.emptyContent}>\r\n\t\t\t<Typography variant=\"h3\" component=\"span\" color=\"inherit\" className={classes.emptyContentText}>{text}</Typography>\r\n\t\t\t<Arrow fill=\"currentColor\"/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst viewMap = {\r\n\t'food': <FoodList elevation={1} />,\r\n\t'meal': <MealContainer />,\r\n\t'settings': <SettingsPanel />\r\n}\r\n\r\nfunction ViewRoot(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { contentEmpty, selectedTab, selectedView, buttonLabel, emptyText, selectTab, newItem } = props;\r\n\r\n\tconst contentView = contentEmpty ? emptyContent(emptyText, classes) : viewMap[selectedView];\r\n\r\n\tconst onTabChange = (e, newValue) => selectTab(newValue);\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0} className={classes.appBar}>\r\n\t\t\t\t<Toolbar variant=\"dense\" className={classes.toolbar} disableGutters>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tvalue={selectedTab}\r\n\t\t\t\t\t\tonChange={onTabChange}\r\n\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.toolbarContent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{views.map(view => <Tab label={view.label} key={'tabs-' + view.view} />)}\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t{ views[selectedTab].showNewButton && <Button variant=\"contained\" color=\"primary\" onClick={() => newItem(selectedView)}>{buttonLabel}</Button> }\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<div className={classes.scrollContainer}>\r\n\t\t\t\t<div className={classes.tabContentWrapper}>\r\n\t\t\t\t\t<div className={classes.tabContent}>\r\n\t\t\t\t\t\t{contentView}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<DetailDialog />\r\n\t\t\t<DemoDataNotice />\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\tconst selectedTab = state.view.selectedTab;\r\n\tconst selectedView = views[selectedTab].view;\r\n\r\n\tlet contentEmpty = false;\r\n\tif(selectedView === 'food') {\r\n\t\tcontentEmpty = state.foods.length === 0;\r\n\t}\r\n\tif(selectedView === 'meal') {\r\n\t\tcontentEmpty = state.meals.length === 0;\r\n\t}\r\n\r\n\treturn {\r\n\t\tcontentEmpty: contentEmpty,\r\n\t\tselectedTab: selectedTab,\r\n\t\tselectedView: views[selectedTab].view,\r\n\t\tbuttonLabel: views[selectedTab].buttonLabel,\r\n\t\temptyText: views[selectedTab].emptyText\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps, { selectTab, newItem })(ViewRoot);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dialog, AppBar, Toolbar, IconButton, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { ArrowBack, Delete, Save } from '@material-ui/icons';\r\n\r\nimport MealDetailPanel from '../MealDetailPanel';\r\nimport FoodDetailPanel from '../FoodDetailPanel';\r\nimport { closeItem, saveItem, deleteItem } from '../../reducers/detailReducer';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tappBar: {\r\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\tflex: 'none'\r\n\t},\r\n\tappBarTitle: {\r\n\t\tflex: 1\r\n\t},\r\n\tscrollContainer: {\r\n\t\toverflow: 'hidden auto',\r\n\t\tpadding: '2em'\r\n\t}\r\n}));\r\n\r\nfunction DetailDialog(props) {\r\n\tconst classes = useStyles();\r\n\tconst { item, title, itemType, isNew, closeItem, saveItem, deleteItem } = props;\r\n\r\n\tif(!item) return null;\r\n\r\n\tconst onClose = () => closeItem();\r\n\tconst onSave = () => saveItem({item: item, type: itemType});\r\n\tconst onDelete = () => deleteItem({id: item.id, type: itemType});\r\n\treturn (\r\n\t\t<Dialog open={Boolean(item)} onClose={onClose} aria-labelledby=\"form-dialog-title\" fullScreen>\r\n\t\t\t<AppBar position=\"relative\" color=\"default\" elevation={0} className={classes.appBar}>\r\n\t\t\t\t<Toolbar disableGutters>\r\n\t\t\t\t\t<IconButton onClick={onClose}><ArrowBack /></IconButton>\r\n\t\t\t\t\t<Typography variant=\"h6\" component=\"h1\" className={classes.appBarTitle}>{title}</Typography>\r\n\t\t\t\t\t{!isNew && <IconButton color=\"secondary\" onClick={onDelete}><Delete /></IconButton>}\r\n\t\t\t\t\t<IconButton onClick={onSave} color=\"primary\"><Save /></IconButton>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<div className={classes.scrollContainer}>\r\n\t\t\t\t{itemType === 'food' ? <FoodDetailPanel /> : <MealDetailPanel />}\r\n\t\t\t</div>\r\n\t\t</Dialog>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\tconst sharedState = {\r\n\t\titem: state.detail.item,\r\n\t\tisNew: state.detail.isNew,\r\n\t\titemType: state.detail.itemType\r\n\t};\r\n\tif(state.detail.itemType === 'food') {\r\n\t\treturn {\r\n\t\t\t...sharedState,\r\n\t\t\ttitle: (state.detail.isNew ? 'Add' : 'Edit') + ' Food'\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\t...sharedState,\r\n\t\ttitle: (state.detail.isNew ? 'Add' : 'Edit') + ' Meal'\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { closeItem, saveItem, deleteItem })(DetailDialog);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { AppBar, Toolbar, BottomNavigation, BottomNavigationAction, Fab, Typography } from '@material-ui/core';\r\nimport { Add, Storage, Fastfood, Settings } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nimport { selectTab } from '../../reducers/viewReducer';\r\nimport { newItem } from '../../reducers/detailReducer';\r\nimport views from '../../screenDefinitions';\r\nimport FoodList from '../FoodList';\r\nimport MealContainer from '../MealContainer';\r\nimport DetailDialog from './DetailDialog'\r\nimport SettingsPanel from '../SettingsPanel';\r\nimport DemoDataNotice from '../DemoDataNotice';\r\nimport { ReactComponent as Arrow } from '../../vectors/arrow.svg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tappBar: {\r\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\talignItems: 'center',\r\n\t\tflex: 'none'\r\n\t},\r\n\r\n\tbottomBar: {\r\n\t\tborderTop: `1px solid ${theme.palette.divider}`,\r\n\t\tflex: 'none'\r\n\t},\r\n\ttoolbar: {\r\n\t\twidth: '100%'\r\n\t},\r\n\tappBarTitle: {\r\n\t\tflex: 1\r\n\t},\r\n\tfab: {\r\n\t\tposition: 'fixed',\r\n\t\tbottom: 'calc(1em + 55px)',\r\n\t\tright: '1em'\r\n\t},\r\n\tscrollContainer: {\r\n\t\toverflow: 'hidden auto',\r\n\t\tflex: 1,\r\n\t},\r\n}));\r\n\r\nfunction emptyContent(text) {\r\n\treturn (\r\n\t\t<div className=\"empty-container\">\r\n\t\t\t<Typography variant=\"h3\" component=\"span\" color=\"inherit\">{text}</Typography>\r\n\t\t\t<Arrow fill=\"currentColor\"/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nconst viewMap = {\r\n\t'food': <FoodList elevation={0} />,\r\n\t'meal': <MealContainer />,\r\n\t'settings': <SettingsPanel elevation={0} />\r\n}\r\n\r\nconst iconMap = {\r\n\t'storage': <Storage />,\r\n\t'fastfood': <Fastfood />,\r\n\t'settings': <Settings />\r\n}\r\n\r\nfunction ViewRoot(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { contentEmpty, selectedTab, selectedView, emptyText, selectTab, newItem } = props;\r\n\r\n\tconst contentView = contentEmpty ? emptyContent(emptyText) : viewMap[selectedView];\r\n\r\n\tconst onTabChange = (e, newValue) => selectTab(newValue);\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0} className={classes.appBar}>\r\n\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t<Typography variant=\"h6\" component=\"h1\" className={classes.appBarTitle}>Meal Planner</Typography>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<div className={classes.scrollContainer}>\r\n\t\t\t\t{contentView}\r\n\t\t\t</div>\r\n\t\t\t<BottomNavigation\r\n\t\t\t\tvalue={selectedTab}\r\n\t\t\t\tonChange={onTabChange}\r\n\t\t\t\tshowLabels\r\n\t\t\t\tclassName={classes.bottomBar}\r\n\t\t\t>\r\n\t\t\t\t{views.map(view => <BottomNavigationAction label={view.label} icon={iconMap[view.icon]} key={'bottomNav-' + view.view} />)}\r\n\t\t\t</BottomNavigation>\r\n\t\t\t{ views[selectedTab].showNewButton && <Fab color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={() => newItem(selectedView)}><Add /></Fab> }\r\n\t\t\t<DetailDialog />\r\n\t\t\t<DemoDataNotice placeAboveFab={views[selectedTab].showNewButton} />\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\tconst selectedTab = state.view.selectedTab;\r\n\treturn {\r\n\t\tcontentEmpty: (state.view.selectedTab === 0 ? state.foods : state.meals).length === 0,\r\n\t\tselectedTab: selectedTab,\r\n\t\tselectedView: views[selectedTab].view,\r\n\t\temptyText: views[selectedTab].emptyText\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps, { selectTab, newItem })(ViewRoot);","import React from 'react';\r\n\r\nimport ViewRoot from './components/ViewRoot';\r\nimport ViewRootMobile from './components/mobile/ViewRoot';\r\nimport useCheckMobile from './useCheckMobile';\r\nimport { CssBaseline } from '@material-ui/core';\r\n\r\n\r\n\r\nexport default function App() {\r\n\tconst viewRoot = useCheckMobile() ? <ViewRootMobile /> : <ViewRoot />;\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<CssBaseline />\r\n\t\t\t{viewRoot}\r\n\t\t</React.Fragment>\r\n\t);\r\n};","import { createSlice } from 'redux-starter-kit';\r\nimport { saveItem, deleteItem } from './detailReducer';\r\n\r\nconst foodsSlice = createSlice({\r\n\tslice: 'foods',\r\n\tinitialState: [],\r\n\treducers: {\r\n\t\tupdateFoods(state, action) {\r\n\t\t\treturn action.payload;\r\n\t\t}\r\n\t},\r\n\textraReducers: {\r\n\t\t[saveItem]: (state, action) => {\r\n\t\t\tif(action.payload.type !== 'food')\r\n\t\t\t\treturn;\r\n\r\n\t\t\tconst newItem = action.payload.item;\r\n\t\t\tconst foodIndex = state.findIndex(food => food.id === newItem.id);\r\n\t\t\tif(foodIndex === -1) {\r\n\t\t\t\tstate.push(newItem);\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tstate[foodIndex] = newItem;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[deleteItem]: (state, action) => {\r\n\t\t\tif(action.payload.type !== 'food')\r\n\t\t\t\treturn;\r\n\r\n\t\t\treturn state.filter(food => food.id !== action.payload.id);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = foodsSlice;\r\nexport const { updateFoods } = actions;\r\nexport default reducer;","import { createSlice } from 'redux-starter-kit';\r\nimport { saveItem, deleteItem } from './detailReducer';\r\n\r\nconst mealsSlice = createSlice({\r\n\tslice: 'meals',\r\n\tinitialState: [],\r\n\treducers: {\r\n\t\tupdateMeals(state, action) {\r\n\t\t\treturn action.payload;\r\n\t\t}\r\n\t},\r\n\textraReducers: {\r\n\t\t[saveItem]: (state, action) => {\r\n\t\t\tif(action.payload.type !== 'meal')\r\n\t\t\t\treturn;\r\n\r\n\t\t\tconst newItem = action.payload.item;\r\n\t\t\tconst foodIndex = state.findIndex(food => food.id === newItem.id);\r\n\t\t\tif(foodIndex === -1) {\r\n\t\t\t\tstate.push(newItem);\r\n\t\t\t} else {\r\n\t\t\t\tstate[foodIndex] = newItem;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[deleteItem]: (state, action) => {\r\n\t\t\tif(action.payload.type === 'food') {\r\n\t\t\t\tstate.forEach(meal => meal.meals = meal.meals.filter(entry => entry.foodId !== action.payload.id));\r\n\t\t\t} else {\r\n\t\t\t\treturn state.filter(meal => meal.id !== action.payload.id);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = mealsSlice;\r\nexport const { updateMeals } = actions;\r\nexport default reducer;","import foodReducer from './foodReducer';\r\nimport mealReducer from './mealReducer';\r\nimport viewReducer from './viewReducer';\r\nimport detailReducer from './detailReducer';\r\nimport servingSizesReducer from './servingSizesReducer';\r\nimport settingsReducer from './settingsReducer';\r\n\r\nconst reducers = {\r\n\tfoods: foodReducer,\r\n\tmeals: mealReducer,\r\n\tview: viewReducer,\r\n\tdetail: detailReducer,\r\n\tservingSizes: servingSizesReducer,\r\n\tsettings: settingsReducer\r\n};\r\n\r\nexport default reducers;","import { createSlice } from 'redux-starter-kit';\r\n\r\nconst viewSlice = createSlice({\r\n\tslice: 'servingSizes',\r\n\tinitialState: [\r\n\t\t{id: 0, label: '100g', value: 100, valueLabel: 'g'},\r\n\t\t{id: 1, label: '1', value: 1, valueLabel: ''}\r\n\t],\r\n\treducers: {\r\n\t}\r\n});\r\n\r\nconst { reducer } = viewSlice;\r\nexport default reducer;","const demoFoods = [\r\n\t{id: 0, title: 'Chicken', protein: 25, carbs: 1, fat: 1.5, servingSizeId: 0},\r\n\t{id: 1, title: 'Eggs', protein: 13, carbs: 1, fat: 11, servingSizeId: 0},\r\n\t{id: 2, title: 'Lentils', protein: 4.5, carbs: 11, fat: 2, servingSizeId: 0},\r\n\t{id: 3, title: 'Lettuce', protein: 1, carbs: 1, fat: 0.2, servingSizeId: 0},\r\n\t{id: 4, title: 'Vegetable mix', protein: 2, carbs: 8, fat: 0.5, servingSizeId: 0},\r\n\t{id: 5, title: 'Edamame', protein: 12, carbs: 11, fat: 4, servingSizeId: 0},\r\n\t{id: 6, title: 'Iso100', protein: 25, carbs: 0.8, fat: 0.6, servingSizeId: 1}\r\n];\r\n\r\nconst demoMeals = [\r\n\t{\r\n\t\tid: 0,\r\n\t\ttitle: 'Lunch',\r\n\t\tmeals: [\r\n\t\t\t{id: 0, foodId: 0, amount: 200},\r\n\t\t\t{id: 1, foodId: 1, amount: 100},\r\n\t\t\t{id: 2, foodId: 2, amount: 100},\r\n\t\t\t{id: 3, foodId: 3, amount: 100},\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: 'Dinner',\r\n\t\tmeals: [\r\n\t\t\t{id: 0, foodId: 0, amount: 200},\r\n\t\t\t{id: 1, foodId: 4, amount: 120},\r\n\t\t\t{id: 2, foodId: 5, amount: 50},\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: 'Shakes',\r\n\t\tmeals: [\r\n\t\t\t{id: 0, foodId: 6, amount: 2}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport {demoFoods, demoMeals};","import { openDB } from 'idb';\r\nimport { saveItem, deleteItem } from './reducers/detailReducer';\r\nimport { dismissDemoDataNotice, clearData } from './reducers/settingsReducer';\r\nimport { updateFoods } from './reducers/foodReducer';\r\nimport { updateMeals } from './reducers/mealReducer';\r\nimport { demoFoods, demoMeals } from './DemoData';\r\n\r\nconst foodDb = 'foods';\r\nconst mealDb = 'meals';\r\nconst servingSizeDb = 'servingSize';\r\nconst settingsDb = 'settings';\r\n\r\n\r\nfunction addDemoFoods(store) {\r\n\tdemoFoods.forEach(item => store.add(item));\r\n}\r\nfunction addDemoMeals(store) {\r\n\tdemoMeals.forEach(meal => store.add(meal));\r\n}\r\n\r\nconst dbPromise = openDB('MealPlanner', 1, {\r\n\tupgrade(db, oldVersion) {\r\n\t\tif (oldVersion < 1) {\r\n\t\t\tconst foodStore = db.createObjectStore(foodDb, {\r\n\t\t\t\tkeyPath: 'id',\r\n\t\t\t\tautoIncrement: true\r\n\t\t\t});\r\n\t\t\tfoodStore.createIndex('id', 'id');\r\n\t\t\taddDemoFoods(foodStore);\r\n\r\n\t\t\tconst mealStore = db.createObjectStore(mealDb, {\r\n\t\t\t\tkeyPath: 'id',\r\n\t\t\t\tautoIncrement: true\r\n\t\t\t});\r\n\t\t\tmealStore.createIndex('id', 'id');\r\n\t\t\taddDemoMeals(mealStore);\r\n\r\n\t\t\tconst servingSizesStore = db.createObjectStore(servingSizeDb, {\r\n\t\t\t\tkeyPath: 'id',\r\n\t\t\t\tautoIncrement: true\r\n\t\t\t});\r\n\t\t\tservingSizesStore.createIndex('id', 'id');\r\n\r\n\t\t\tconst settingsStore = db.createObjectStore(settingsDb);\r\n\t\t\tsettingsStore.add(false, 'demoDataNoticeShown');\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nfunction storeFactory(objectStoreName) {\r\n\r\n\tconst getAll = async store => {\r\n\t\tif(store.getAll) {\r\n\t\t\treturn await store.getAll(objectStoreName);\r\n\t\t}\r\n\r\n\t\tconst result = [];\r\n\t\tlet cursor = await store.openCursor();\r\n\t\twhile (cursor) {\r\n\t\t\tresult.push(cursor.value);\r\n\t\t\tcursor = await cursor.continue();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\treturn {\r\n\t\tgetAll: () => dbPromise.then(store => getAll(store)),\r\n\t\tget: key => dbPromise.then(store => store.get(objectStoreName, key)),\r\n\t\tsave: item => dbPromise.then(\r\n\t\t\t\tstore => store.put(objectStoreName, item)\r\n\t\t\t\t.then(key => store.get(objectStoreName, key))),\r\n\t\t'delete': id => dbPromise.then(store => store.delete(objectStoreName, id)),\r\n\t\tput: (value, key) => dbPromise.then(store => store.put(objectStoreName, value, key)),\r\n\t\tclear: () => dbPromise.then(store => store.clear(objectStoreName))\r\n\t}\r\n}\r\n\r\n\r\nexport async function getPersistedState() {\r\n\treturn {\r\n\t\tfoods: await stores.food.getAll(),\r\n\t\tmeals: await stores.meal.getAll(),\r\n\t\tsettings: {\r\n\t\t\tshowDemoDataNotice: !(await stores.settings.get('demoDataNoticeShown'))\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\nconst stores = {\r\n\tmeal: storeFactory(mealDb),\r\n\tfood: storeFactory(foodDb),\r\n\tservingSize: storeFactory(servingSizeDb),\r\n\tsettings: storeFactory(settingsDb)\r\n}\r\n\r\n\r\nexport const persist = store => next => action => {\r\n\tif(!action.payload || !action.payload.persist)\r\n\t\treturn next(action);\r\n\r\n\tswitch (action.type) {\r\n\t\tcase saveItem.type: {\r\n\r\n\t\t\tconst newItem = {...action.payload.item};\r\n\t\t\tconst validate = name => {\r\n\t\t\t\tif (newItem[name] === '' || isNaN(newItem[name])){\r\n\t\t\t\t\tnewItem[name] = 0;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnewItem[name] = parseFloat(newItem[name]);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t['protein', 'carbs', 'fat'].forEach(validate);\r\n\r\n\t\t\tPromise.resolve(stores[action.payload.type].save(newItem).then(\r\n\t\t\t\titem => ({type: action.type, payload: {item: item, type: action.payload.type}})))\r\n\t\t\t.then(store.dispatch);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase deleteItem.type: {\r\n\t\t\tPromise.resolve(stores[action.payload.type].delete(action.payload.id).then(\r\n\t\t\t\t() => ({type: action.type, payload: {id: action.payload.id, type: action.payload.type}})))\r\n\t\t\t.then(store.dispatch);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase dismissDemoDataNotice.type: {\r\n\t\t\tPromise.resolve(stores.settings.put(true, 'demoDataNoticeShown')).then(() => store.dispatch({type: action.type}));\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase clearData.type: {\r\n\t\t\tPromise.resolve(\r\n\t\t\t\tPromise.all([\r\n\t\t\t\t\tstores.food.clear().then(() => store.dispatch(updateFoods([]))),\r\n\t\t\t\t\tstores.meal.clear().then(() => store.dispatch(updateMeals([]))),\r\n\t\t\t\t])).then(() => {});\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn;\r\n\t}\r\n};\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { configureStore, getDefaultMiddleware } from 'redux-starter-kit'\nimport './index.css';\nimport App from './App';\nimport reducers from './reducers/reducers';\nimport { persist, getPersistedState } from './PersistentMiddleware';\nimport * as serviceWorker from './serviceWorker';\n\n\nasync function load() {\n\tconst store = configureStore({\n\t\treducer: reducers,\n\t\tpreloadedState: await getPersistedState(),\n\t\tmiddleware: [\n\t\t\tpersist,\n\t\t\t...getDefaultMiddleware()\n\t\t]\n\t});\n\tReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n}\n\nload();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}