(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(e,a,t){e.exports=t(426)},236:function(e,a,t){},412:function(e,a,t){},424:function(e,a,t){},425:function(e,a,t){},426:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(14),i=t.n(l),o=(t(236),t(34)),c=t(428),d=t(465),m=t(429),s=t(464),u=t(66),f=t(133),p=t(466),v=t(467),E=t(468),b=t(484),g=t(469),h=t(427),I=t(104);t(412);var y=function(e){var a=[{group:"Protein",value:4*e.data.protein},{group:"Carbs",value:4*e.data.carbs},{group:"Fat",value:9*e.data.fat}],t=a.reduce(function(e,a){return e+a.value},0),n=["#0088FE","#00C49F","#FFBB28"],l={width:e.size,height:e.height,border:e.size/10+"px solid #ddd",borderRadius:e.size};return r.a.createElement("div",{className:"calorie-display-wrapper"},r.a.createElement("div",{className:"calorie-display-graphic"},r.a.createElement(I.c,{width:e.size,height:e.size,margin:{}},r.a.createElement(I.b,{data:a,outerRadius:"100%",innerRadius:"80%",dataKey:"value",isAnimationActive:!1},a.map(function(e,a){return r.a.createElement(I.a,{key:"cell-".concat(a),fill:n[a%n.length]})})))),r.a.createElement("div",{className:"calorie-display-graphic",style:l}),r.a.createElement(u.a,{variant:"h5",component:"span",className:"calorie-display-count"},t.toFixed(1)),r.a.createElement(u.a,{variant:"h6",component:"span",className:"calorie-display-label"},"Cals"))};var O=function(e){return r.a.createElement(s.a,{container:!0,spacing:3,wrap:"nowrap"},r.a.createElement(s.a,{item:!0},r.a.createElement(y,{data:e.data,size:e.size||160})),r.a.createElement(s.a,{item:!0,container:!0,alignItems:"center",direction:"column",justify:"space-evenly"},r.a.createElement(s.a,{item:!0},r.a.createElement(u.a,null,"Protein"),r.a.createElement(u.a,null,e.data.protein.toFixed(1),"g")),r.a.createElement(s.a,{item:!0},r.a.createElement(u.a,null,"Carbs"),r.a.createElement(u.a,null,e.data.carbs.toFixed(1),"g")),r.a.createElement(s.a,{item:!0},r.a.createElement(u.a,null,"Fat"),r.a.createElement(u.a,null,e.data.fat.toFixed(1),"g"))))},j=t(94),w=t(41),x=t(17),C=Object(n.createContext)(),N=function(e){var a=e.dispatch,t=e.children;return r.a.createElement(C.Provider,{value:a},t)},S=function(){return Object(n.useContext)(C)};function F(e){var a=function(a){return e.foods.find(function(e){return e.id===a})},t=function(a){return e.settings.servingSizes.find(function(e){return e.id===a.servingSizeId})},n=function(e){return function(n,r){var l=a(r.foodId);return n+l[e]*(r.amount/t(l).value)}},r=function(e){return{protein:e.meals.reduce(n("protein"),0),carbs:e.meals.reduce(n("carbs"),0),fat:e.meals.reduce(n("fat"),0)}},l=e.meals.map(function(e){var n=e.meals.map(function(e){var n=a(e.foodId);return Object(x.a)({},e,{foodTitle:n.title,amountLabel:t(n).valueLabel})});return Object(x.a)({},e,{macroTotals:r(e),meals:n})}),i=e.foods.map(function(e){return Object(x.a)({},e,{amountLabel:t(e).valueLabel})});return Object(x.a)({},e,{meals:l,foods:i})}function z(e,a){var t=function(e,a){switch(a.type){case"selectTab":return Object(x.a)({},e,{selectedTab:a.value});case"addFood":var t=++e.nextFoodId,n={id:e.nextFoodId,title:"",protein:0,carbs:0,fat:0,servingSizeId:e.settings.servingSizes[0].id};return Object(x.a)({},e,{foods:[].concat(Object(w.a)(e.foods),[n]),nextFoodId:t,selectFoodItem:n});case"deleteFood":var r=e.meals.map(function(e){return Object(x.a)({},e,{meals:e.meals.filter(function(e){return e.foodId!==a.foodId})})});return Object(x.a)({},e,{foods:e.foods.filter(function(e){return e.id!==a.foodId}),meals:r});case"updateFood":var l=e.foods.findIndex(function(e){return e.id===a.foodId}),i=e.foods[l],o=Object(x.a)({},i,Object(j.a)({},a.field,a.value)),c=Object(w.a)(e.foods);return c.splice(l,1,o),Object(x.a)({},e,{foods:c});case"consumeFoodItemSelect":return Object(x.a)({},e,{selectFoodItem:null});case"addMeal":var d=++e.nextMealId,m={id:e.nextMealId,title:"",meals:[]};return Object(x.a)({},e,{meals:[].concat(Object(w.a)(e.meals),[m]),nextMealId:d});case"deleteMeal":return Object(x.a)({},e,{meals:e.meals.filter(function(e){return e.id!==a.mealId})});case"saveMeal":var s=Object(w.a)(e.meals);return a.meal.isNew?(delete a.meal.isNew,s.push(a.meal)):s[e.meals.findIndex(function(e){return e.id===a.meal.id})]=a.meal,Object(x.a)({},e,{meals:s});case"showNewMealDialog":var u=++e.nextMealId,f={id:e.nextMealId,isNew:!0,title:"",meals:[]};return Object(x.a)({},e,{mealDialogItem:f,nextMealId:u});case"showMealDialog":return Object(x.a)({},e,{mealDialogItem:e.meals.find(function(e){return e.id===a.mealId})});case"closeMealDialog":return Object(x.a)({},e,{mealDialogItem:null});default:return e}}(e,a);return["saveMeal","updateFood","addMeal","deleteFood"].includes(a.type)&&(t=F(t)),t}var k=F(Object(x.a)({},{foods:[{id:0,title:"Chicken",protein:25,carbs:1,fat:1.5,servingSizeId:0},{id:1,title:"Eggs",protein:13,carbs:1,fat:11,servingSizeId:0},{id:2,title:"Lentils",protein:4.5,carbs:11,fat:2,servingSizeId:0},{id:3,title:"Lettuce",protein:1,carbs:1,fat:.2,servingSizeId:0},{id:4,title:"Vegetable mix",protein:2,carbs:8,fat:.5,servingSizeId:0},{id:5,title:"Edamame",protein:12,carbs:11,fat:4,servingSizeId:0},{id:6,title:"Iso100",protein:25,carbs:.8,fat:.6,servingSizeId:1}],meals:[{id:0,title:"Lunch",meals:[{id:0,foodId:0,amount:200},{id:1,foodId:1,amount:100},{id:2,foodId:2,amount:100},{id:3,foodId:3,amount:100}]},{id:1,title:"Dinner",meals:[{id:0,foodId:0,amount:200},{id:1,foodId:4,amount:120},{id:2,foodId:5,amount:50}]},{id:2,title:"Shakes",meals:[{id:0,foodId:6,amount:2}]}]},{selectedTab:0,nextFoodId:100,nextMealId:100,mealDialogItem:null,selectFoodItem:null,settings:{servingSizes:[{id:0,label:"100g",value:100,valueLabel:"g"},{id:1,label:"1",value:1,valueLabel:""}]}})),M=Object(h.a)(function(e){return{card:{},title:{padding:"1rem"},cardActionArea:{padding:"0.5em"},cardPadding:{padding:"1rem"}}});var D=function(e){var a=M(),t=r.a.useState(!1),n=Object(o.a)(t,2),l=n[0],i=n[1],h=S(),I=e.meal.meals.map(function(e,a){return r.a.createElement(c.a,{key:a},r.a.createElement(d.a,{primary:e.foodTitle,secondary:e.amount+e.amountLabel}))});return r.a.createElement(m.a,{className:a.card},r.a.createElement(s.a,{container:!0,direction:"column"},r.a.createElement(s.a,{item:!0},r.a.createElement(u.a,{variant:"h6",component:"h2",className:a.cardPadding},e.meal.title)),r.a.createElement(s.a,{item:!0},r.a.createElement(f.a,{onClick:function(){return h({type:"showMealDialog",mealId:e.meal.id})}},r.a.createElement(s.a,{container:!0,direction:"column"},r.a.createElement(s.a,{item:!0,className:a.cardPadding},r.a.createElement(O,{data:e.meal.macroTotals,size:200})),r.a.createElement(s.a,{item:!0},r.a.createElement(p.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(v.a,null,I))))))),r.a.createElement(E.a,null),r.a.createElement(b.a,{className:a.cardActionArea},r.a.createElement(g.a,{className:a.button,onClick:function(){return i(!l)}},l?"COLLAPSE":"EXPAND")))};var A=function(e){var a=e.items.map(function(e,a){return r.a.createElement(s.a,{item:!0,key:e.id},r.a.createElement(D,{meal:e}))});return r.a.createElement("div",null,r.a.createElement(s.a,{container:!0,spacing:2,justify:"space-around"},a))};t(424);var L=function(e){var a=e.items.map(function(a,t){var n=a.title?r.a.createElement(d.a,{primary:a.title}):r.a.createElement(d.a,{primary:"No Title",primaryTypographyProps:{component:"i"}}),l=e.selectedIndex===t;return r.a.createElement(c.a,{button:!0,selected:l,ref:function(e){return e&&l&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},onClick:function(a){return function(a,t){return e.onSelectedIndexChanged(t)}(0,t)},key:t},n)});return r.a.createElement("div",{className:"food-list-wrapper"},r.a.createElement(v.a,{className:"food-list"},a))},P=t(488),T=t(472),W=t(471),B=t(490),R=t(485),H=t(473),G=Object(h.a)(function(e){return{root:{padding:"2em 3em"},button:{alignSelf:"flex-end"}}});var J=function(e){var a=G(),t=S(),n=function(a,n){return function(r){var l=r.target.value;if(n&&(l=parseFloat(l||0),isNaN(l)))throw Error("Unable to parse value ".concat(r.target.value));t({type:"updateFood",foodId:e.item.id,field:a,value:l})}};return r.a.createElement(s.a,{container:!0,direction:"column",spacing:2,className:a.root},r.a.createElement(s.a,{item:!0},r.a.createElement(y,{data:e.item,size:220})),r.a.createElement(s.a,{item:!0},r.a.createElement(P.a,{label:"Title",id:"title",fullWidth:!0,value:e.item.title,onChange:n("title")})),r.a.createElement(s.a,{item:!0},r.a.createElement(P.a,{label:"Protein",id:"protein",fullWidth:!0,value:e.item.protein,onChange:n("protein",!0),InputProps:{endAdornment:r.a.createElement(T.a,{position:"end"},"g")}})),r.a.createElement(s.a,{item:!0},r.a.createElement(P.a,{label:"Carbs",id:"carbs",fullWidth:!0,value:e.item.carbs,onChange:n("carbs",!0),InputProps:{endAdornment:r.a.createElement(T.a,{position:"end"},"g")}})),r.a.createElement(s.a,{item:!0},r.a.createElement(P.a,{label:"Fat",id:"fat",fullWidth:!0,value:e.item.fat,onChange:n("fat",!0),InputProps:{endAdornment:r.a.createElement(T.a,{position:"end"},"g")}})),r.a.createElement(s.a,{item:!0},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(B.a,null,"Serving Size"),r.a.createElement(R.a,{label:"Serving Size",fullWidth:!0,value:e.item.servingSizeId,onChange:n("servingSizeId")},e.servingSizes.map(function(e){return r.a.createElement(H.a,{key:e.id,value:e.id},e.label)})))),r.a.createElement(s.a,{item:!0,className:a.button},r.a.createElement(g.a,{color:"secondary",onClick:function(){return t({type:"deleteFood",foodId:e.item.id})}},"Delete")))},V=t(474),K=t(99),U=Object(h.a)(function(e){return{root:{width:"100%"},divider:{width:1,height:"100%"}}});var X=function(e){var a=U(),t=S(),l=Object(n.useState)(0),i=Object(o.a)(l,2),c=i[0],d=i[1];c>=e.items.length&&d(e.items.length-1),e.selectFoodItem&&e.items[c]!==e.selectFoodItem&&(d(e.items.findIndex(function(a){return a===e.selectFoodItem})),t({type:"consumeFoodItemSelect"}));var u=e.items[c],f=Object(K.a)(),p=Object(V.a)(f.breakpoints.down("xs")),v=r.a.createElement(m.a,{className:a.root},r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,container:!0,xs:!0},r.a.createElement(L,{items:e.items,selectedIndex:c,onSelectedIndexChanged:d})),r.a.createElement(s.a,{item:!0},r.a.createElement(E.a,{className:a.divider})),r.a.createElement(s.a,{item:!0},r.a.createElement(J,{item:u,servingSizes:e.servingSizes})))),b=r.a.createElement(L,{items:e.items,selectedIndex:c,onSelectedIndexChanged:d});return p?b:v},$=t(489),q=t(477),Q=t(478),Y=t(479),Z=t(475),_=t(476),ee=Object(h.a)(function(e){return{card:{width:"160px"},cardSelected:{backgroundColor:"rgba(0, 191, 255, 0.05)"},cardHeader:{padding:e.spacing(1),width:"100%"},cardHeaderText:{flexGrow:1},cardBody:{padding:e.spacing(1)}}});var ae=function(e){var a=ee(),t=a.card;e.checked&&(t=t+" "+a.cardSelected);var n=e.amountLabel?{endAdornment:r.a.createElement(T.a,{position:"end"},e.amountLabel)}:null;return r.a.createElement(m.a,{className:t},r.a.createElement(f.a,{onClick:e.onChecked,className:a.cardHeader},r.a.createElement(u.a,{align:"left",className:a.cardHeaderText},e.title),e.checked?r.a.createElement(Z.a,{fontSize:"small",htmlColor:"#189ad3"}):r.a.createElement(_.a,{fontSize:"small",htmlColor:"#189ad3"})),r.a.createElement(b.a,{className:a.cardBody},r.a.createElement(P.a,{id:"amount",label:"Amount",fullWidth:!0,disabled:!e.checked,value:e.amount,onChange:function(a){return e.onAmountChanged(a.target.value)},InputProps:n})))},te=Object(h.a)(function(e){return{dialogRoot:{height:"500px"},mainContent:{height:"100%"}}});var ne=function(e){var a=te(),t=S(),n=e.meal||{meals:[]},l=function(e){return Boolean(n.meals.find(function(a){return a.foodId===e.id}))},i=function(e){return(n.meals.find(function(a){return a.foodId===e.id})||{}).amount||0},c=e.foodList.map(function(e){return Object(x.a)({},e,{selected:l(e),amount:i(e)})}),d=r.a.useState(c),m=Object(o.a)(d,2),u=m[0],f=m[1],p=r.a.useState(n.title),v=Object(o.a)(p,2),E=v[0],b=v[1],h=function(){return t({type:"closeMealDialog"})},I=function(){return(e.meal||{}).isNew},y=function(e){var a=u.findIndex(function(a){return a.id===e.id});if(-1===a)throw Error("no mealEntry found for food: ".concat(e.id));var t=Object(w.a)(u);t.splice(a,1,e),f(t)},O=function(e){return function(a){var t=parseFloat(a);if(isNaN(t))throw Error("amount is not a float");y(Object(x.a)({},e,{amount:t}))}},j=u.map(function(e){return r.a.createElement(s.a,{item:!0,key:e.id},r.a.createElement(ae,{title:e.title,amountLabel:e.amountLabel,amount:e.amount,checked:e.selected,onChecked:(a=e,function(){y(Object(x.a)({},a,{selected:!a.selected}))}),onAmountChanged:O(e)}));var a});return r.a.createElement($.a,{open:e.open,onClose:h,"aria-labelledby":"form-dialog-title",maxWidth:"sm",fullWidth:!0},r.a.createElement(q.a,{id:"form-dialog-title"},I()?"New Meal":"Edit Meal"),r.a.createElement(Q.a,{dividers:!0,className:a.dialogRoot},r.a.createElement(s.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(s.a,{item:!0},r.a.createElement(P.a,{autoFocus:!0,fullWidth:!0,id:"title",label:"Title",value:E,onChange:function(e){return b(e.target.value)}})),r.a.createElement(s.a,{item:!0,container:!0,xs:!0,spacing:2,justify:"space-between"},j))),r.a.createElement(Y.a,null,r.a.createElement(g.a,{onClick:h},"Close"),I()?null:r.a.createElement(g.a,{onClick:function(){t({type:"deleteMeal",mealId:e.meal.id}),h()},color:"secondary"},"Delete"),r.a.createElement(g.a,{onClick:function(){var a=u.filter(function(e){return e.selected}).map(function(e){return{amount:e.amount,foodId:e.id}});t({type:"saveMeal",meal:Object(x.a)({},e.meal,{title:E,meals:a})}),h()},color:"primary"},"Save")))};function re(){return(re=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function le(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var ie=r.a.createElement("path",{d:"M294.064 36.904c-3.46 62.976-22.019 124.532-46.448 182.35-49.574 116.458-143.509 210.479-254.802 269.07-26.653 14.06-54.612 26.988-83.44 35.192l-39.345-4.963C-26.759 486.15 66.54 422.757 135.724 339.714c65.661-81.085 107.168-182.101 115.881-286.148-5.302-18.073 6.684-17.981 20.466-16.662h21.993z"}),oe=r.a.createElement("path",{d:"M294.778 38.441c-32.711 66.282-78.277 126.848-134.429 175.084-27.038 22.595-58.643 43.026-93.792 48.428l-38.398-5.107c70.8-15.671 124.527-69.866 167.634-125.076 21.734-29.854 43.083-60.554 56.863-95.035l42.122 1.706z"}),ce=r.a.createElement("path",{d:"M294.741 36.555c13.952 71.51 43.174 139.958 82.589 201.088 3.748 11.42 35.43 31.122 24.491 34.844l-34.556 2.612c-46.053-45.121-70.347-106.478-93.406-165.37-4.943-22.093-24.341-56.573-17.058-72.547l37.94-.627z"}),de=function(e){var a=e.svgRef,t=le(e,["svgRef"]);return r.a.createElement("svg",re({viewBox:"0 0 273.586 547.228",height:104,width:104,ref:a},t),ie,oe,ce)},me=r.a.forwardRef(function(e,a){return r.a.createElement(de,re({svgRef:a},e))}),se=(t.p,t(480)),ue=t(481),fe=t(482),pe=t(486),ve=t(483),Ee=(t(425),Object(h.a)(function(e){return{appDimensions:{maxWidth:1024,width:"calc(100vw - 4em)",minWidth:e.breakpoints.values.sm-16,margin:"auto"},appBar:{borderBottom:"1px solid ".concat(e.palette.divider),alignItems:"center"},toolbarTitle:{flexGrow:1},tabs:{flexGrow:1}}}));var be=function(){var e=Ee(),a=r.a.useReducer(z,k),t=Object(o.a)(a,2),n=t[0],l=t[1],i=Boolean(n.mealDialogItem),c=function(e){return r.a.createElement("div",{className:"empty-container"},r.a.createElement(u.a,{variant:"h3",component:"span",color:"inherit"},e),r.a.createElement(me,{fill:"currentColor"}))},d=0===n.selectedTab?[0===n.foods.length?c("Add new foods here!"):r.a.createElement(X,{items:n.foods,className:e.tabContent,selectFoodItem:n.selectFoodItem,servingSizes:n.settings.servingSizes}),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return l({type:"addFood"})}},"ADD FOOD")]:[0===n.meals.length?c("Add new meals here!"):r.a.createElement(A,{items:n.meals,className:e.tabContent}),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return l({type:"showNewMealDialog"})}},"ADD MEAL")],m=Object(o.a)(d,2),s=m[0],f=m[1];return r.a.createElement(N,{dispatch:l},r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement(ue.a,{position:"static",color:"default",elevation:0,className:e.appBar},r.a.createElement(fe.a,{variant:"dense",className:e.appDimensions},r.a.createElement(pe.a,{value:n.selectedTab,onChange:function(e,a){return l({type:"selectTab",value:a})},indicatorColor:"primary",textColor:"primary",className:e.tabs},r.a.createElement(ve.a,{label:"Database"}),r.a.createElement(ve.a,{label:"Meals"})),f)),r.a.createElement("div",{className:"scroll-container"},r.a.createElement("div",{className:"tab-content "+e.appDimensions},s))),r.a.createElement(ne,{open:i,meal:n.mealDialogItem,foodList:n.foods,key:(n.mealDialogItem||{id:-11}).id})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[231,1,2]]]);
//# sourceMappingURL=main.38e2dfb7.chunk.js.map