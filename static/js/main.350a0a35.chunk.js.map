{"version":3,"sources":["State.js","DemoData.js","FoodList.js","CalorieDisplay.js","MacrosPanel.js","MealCard.js","MealContainer.js","DetailDialog.js","FoodDetailPanel.js","MealEntryCard.js","MealDetailPanel.js","arrow.svg","ViewRoot.js","mobile/DetailDialog.js","mobile/ViewRoot.js","App.js","serviceWorker.js","index.js"],"names":["DispatchContext","createContext","DispatchProvider","_ref","dispatch","children","react_default","a","createElement","Provider","value","useDispatch","useContext","clone","object","JSON","parse","stringify","getDerivedAttributesState","state","getFoodItem","id","foods","find","food","getServingSize","settings","servingSizes","size","servingSizeId","sumFunc","name","agg","item","foodId","amount","getMacroTotals","meal","protein","meals","reduce","carbs","fat","updatedMeals","map","updatedMealEntries","mealEntry","Object","objectSpread","foodTitle","title","amountLabel","valueLabel","macroTotals","updatedFoods","foodReducer","action","type","tempFood","context","nextFoodId","isNew","detail","screen","selectedTab","newFoodList","foodIndex","toConsumableArray","findIndex","splice","concat","updatedMealList","filter","mealReducer","tempMeal","nextMealId","newMealList","mealIndex","mainReducer","appReducer","reducer","condition","includes","reducerObj","INITIAL_STATE","label","FoodList","props","listItems","items","index","listItemText","ListItemText","primary","primaryTypographyProps","component","ListItem","button","onClick","event","onItemClicked","key","Paper","elevation","List","disablePadding","CalorieDisplay","data","group","cals","macro","colors","pieBackgroundStyle","width","height","border","borderRadius","className","es6","margin","outerRadius","innerRadius","dataKey","isAnimationActive","entry","fill","length","style","Typography","variant","toFixed","MacrosPanel","Grid","container","spacing","wrap","src_CalorieDisplay","alignItems","direction","justify","useStyles","makeStyles","theme","cardPadding","padding","cardActionArea","MealCard","_React$useState","React","useState","_React$useState2","slicedToArray","expanded","setExpanded","classes","mealEntries","secondary","ButtonBase","src_MacrosPanel","Collapse","in","timeout","unmountOnExit","Divider","Box","Button","MealContainer","mealCards","src_MealCard","dialogRoot","maxheight","DetailDialog","onClose","Dialog","open","Boolean","aria-labelledby","maxWidth","fullWidth","DialogTitle","DialogContent","dividers","DialogActions","color","FoodDetailPanel","createHandler","isFloat","target","parseFloat","isNaN","Error","defineProperty","TextField","onChange","InputProps","endAdornment","InputAdornment","position","FormControl","InputLabel","Select","servingSize","MenuItem","card","cardSelected","backgroundColor","cardHeader","cardHeaderText","flexGrow","cardBody","MealEntryCard","rootClass","checked","textFieldAdornment","onChecked","align","CheckBox","fontSize","htmlColor","CheckBoxOutlineBlank","disabled","onAmountChanged","MealDetailPanel","foodList","isSelected","getAmount","foodCardItems","selected","update","createCheckHandler","createAmountChangedHandler","fAmount","mealEntryCards","src_MealEntryCard","autoFocus","xs","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","_ref3","_ref4","arrow_SvgArrow","svgRef","viewBox","ref","ForwardRef","forwardRef","__webpack_require__","p","appDimensions","appBar","borderBottom","palette","divider","flex","toolbar","toolbarContent","scrollContainer","overflow","tabContentWrapper","overflowX","marginRight","tabContent","emptyContent","text","ViewRoot","views","foodView","src_FoodList","mealView","src_MealContainer","detailContent","src_FoodDetailPanel","src_MealDetailPanel","Fragment","AppBar","Toolbar","disableGutters","Tabs","e","newValue","indicatorColor","textColor","view","Tab","buttonLabel","appBarTitle","fullScreen","IconButton","ArrowBack","Delete","Save","bottomBar","borderTop","fab","bottom","right","BottomNavigation","showLabels","BottomNavigationAction","icon","Fab","aria-label","Add","DetailDialog_DetailDialog","Storage","Fastfood","window","location","hostname","match","ReactDOM","render","_React$useReducer","useReducer","_React$useReducer2","useTheme","viewRoot","useMediaQuery","breakpoints","down","ViewRoot_ViewRoot","State_DispatchProvider","CssBaseline","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.350a0a35.chunk.js","sourcesContent":["import React, {createContext, useContext} from 'react';\r\n\r\nimport {DEMO_DATA} from './DemoData';\r\n\r\nexport const DispatchContext = createContext();\r\n\r\nexport const DispatchProvider = ({dispatch, children}) => (\r\n\t<DispatchContext.Provider value={dispatch}>\r\n\t\t{children}\r\n\t</DispatchContext.Provider>\r\n);\r\n\r\nexport const useDispatch = () => useContext(DispatchContext);\r\n\r\nfunction clone(object) {\r\n\treturn JSON.parse(JSON.stringify(object));\r\n}\r\n\r\nfunction getDerivedAttributesState(state) {\r\n\tconst getFoodItem = id => state.foods.find(food => food.id === id);\r\n\tconst getServingSize = food => state.settings.servingSizes.find(size => size.id === food.servingSizeId);\r\n\tconst sumFunc = (name) => {\r\n\t\treturn (agg, item) => {\r\n\t\t\tconst food = getFoodItem(item.foodId);\r\n\t\t\treturn agg + (food[name] * (item.amount / getServingSize(food).value));\r\n\t\t};\r\n\t};\r\n\r\n\tconst getMacroTotals = meal => {\r\n\t\treturn {\r\n\t\t\tprotein: meal.meals.reduce(sumFunc('protein'), 0),\r\n\t\t\tcarbs: meal.meals.reduce(sumFunc('carbs'), 0),\r\n\t\t\tfat: meal.meals.reduce(sumFunc('fat'), 0)\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tconst updatedMeals = state.meals.map(meal => {\r\n\t\tconst updatedMealEntries = meal.meals.map(mealEntry => {\r\n\t\t\tconst food = getFoodItem(mealEntry.foodId);\r\n\t\t\treturn {...mealEntry, foodTitle: food.title, amountLabel: getServingSize(food).valueLabel};\r\n\t\t});\r\n\r\n\t\treturn {...meal, macroTotals: getMacroTotals(meal), meals: updatedMealEntries};\r\n\t});\r\n\r\n\tconst updatedFoods = state.foods.map(food => ({...food, amountLabel: getServingSize(food).valueLabel}));\r\n\r\n\treturn {\r\n\t\t...state,\r\n\t\tmeals: updatedMeals,\r\n\t\tfoods: updatedFoods\r\n\t};\r\n}\r\n\r\nfunction foodReducer(state, action) {\r\n\tif(action.type === 'primaryAction') {\r\n\t\taction.type = 'showDetail';\r\n\t}\r\n\tswitch(action.type) {\r\n\t\tcase 'showDetail': {\r\n\t\t\tlet tempFood;\r\n\t\t\tif(action.context) {\r\n\t\t\t\ttempFood = clone(action.context);\r\n\t\t\t} else {\r\n\t\t\t\t// create a new empty object\r\n\t\t\t\tconst nextFoodId = ++state.nextFoodId;\r\n\t\t\t\ttempFood = {id: state.nextFoodId, isNew: true, title: '', protein: 0, carbs: 0, fat: 0, servingSizeId: state.settings.servingSizes[0].id};\r\n\t\t\t\tstate = {...state, nextFoodId: nextFoodId};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\tscreen: 'foodDetail',\r\n\t\t\t\t\tcontext: action.context,\r\n\t\t\t\t\tobject: tempFood,\r\n\t\t\t\t\ttitle: (action.context ? 'Edit ' : 'Add ') + (state.selectedTab === 0 ? 'Food' : 'Meal')\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'persistDetail': {\r\n\t\t\tdelete state.detail.object.isNew;\r\n\t\t\tlet newFoodList;\r\n\t\t\tif(state.detail.context) {\r\n\t\t\t\tnewFoodList = [...state.foods];\r\n\t\t\t\tconst foodIndex = newFoodList.findIndex(food => food.id === state.detail.context.id);\r\n\t\t\t\tnewFoodList.splice(foodIndex, 1, state.detail.object);\r\n\t\t\t} else {\r\n\t\t\t\tnewFoodList = [...state.foods, state.detail.object]\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfoods: newFoodList,\r\n\t\t\t\tdetail: null\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'deleteDetail': {\r\n\t\t\tconst updatedMealList = state.meals.map(meal => ({...meal, meals: meal.meals.filter(mealEntry => mealEntry.foodId !== state.detail.context.id)}));\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfoods: state.foods.filter(food => food !== state.detail.context),\r\n\t\t\t\tmeals: updatedMealList,\r\n\t\t\t\tdetail: null\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mealReducer(state, action) {\r\n\tif(action.type === 'primaryAction') {\r\n\t\taction.type = 'showDetail';\r\n\t}\r\n\tswitch(action.type) {\r\n\t\tcase 'showDetail': {\r\n\t\t\tlet tempMeal;\r\n\t\t\tif(action.context) {\r\n\t\t\t\ttempMeal = clone(action.context);\r\n\t\t\t} else {\r\n\t\t\t\t// create a new empty object\r\n\t\t\t\tconst nextMealId = ++state.nextMealId;\r\n\t\t\t\ttempMeal = {id: state.nextMealId, isNew: true, title: '', meals: []};\r\n\t\t\t\tstate = {...state, nextMealId: nextMealId};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\tscreen: 'mealDetail',\r\n\t\t\t\t\tcontext: action.context,\r\n\t\t\t\t\tobject: tempMeal,\r\n\t\t\t\t\ttitle: (action.context ? 'Edit ' : 'Add ') + (state.selectedTab === 0 ? 'Food' : 'Meal')\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'persistDetail': {\r\n\t\t\tdelete state.detail.object.isNew;\r\n\t\t\tlet newMealList;\r\n\t\t\tif(state.detail.context) {\r\n\t\t\t\tnewMealList = [...state.meals];\r\n\t\t\t\tconst mealIndex = newMealList.findIndex(meal => meal.id === state.detail.context.id);\r\n\t\t\t\tnewMealList.splice(mealIndex, 1, state.detail.object);\r\n\t\t\t} else {\r\n\t\t\t\tnewMealList = [...state.meals, state.detail.object]\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmeals: newMealList,\r\n\t\t\t\tdetail: null\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'deleteDetail': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmeals: state.meals.filter(meal => meal !== state.detail.context),\r\n\t\t\t\tdetail: null\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mainReducer(state, action) {\r\n\tswitch(action.type) {\r\n\t\tcase 'selectTab': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tselectedTab: action.value\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'closeDetail': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdetail: null\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'updateDetail': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\t...state.detail,\r\n\t\t\t\t\tobject: action.object\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport function appReducer(state, action) {\r\n\tconst reducerQueue = [\r\n\t\t{\r\n\t\t\treducer: mainReducer,\r\n\t\t\tcondition: () => true\r\n\t\t},\r\n\t\t{\r\n\t\t\treducer: foodReducer,\r\n\t\t\tcondition: () => state.selectedTab === 0\r\n\t\t},\r\n\t\t{\r\n\t\t\treducer: mealReducer,\r\n\t\t\tcondition: () => state.selectedTab === 1\r\n\t\t},\r\n\t\t{\r\n\t\t\treducer: getDerivedAttributesState,\r\n\t\t\tcondition: () => ['persistDetail', 'deleteDetail'].includes(action.type)\r\n\t\t}\t\r\n\t];\r\n\treturn reducerQueue.reduce(((state, reducerObj) => reducerObj.condition() ? reducerObj.reducer(state, action) : state), state);\r\n}\r\n\r\nexport const INITIAL_STATE = getDerivedAttributesState({\r\n\t...DEMO_DATA,\r\n\tselectedTab: 0,\r\n\tnextFoodId: 100,\r\n\tnextMealId: 100,\r\n\tdetail: null,\r\n\tsettings: {\r\n\t\tservingSizes: [\r\n\t\t\t{id: 0, label: '100g', value: 100, valueLabel: 'g'},\r\n\t\t\t{id: 1, label: '1', value: 1, valueLabel: ''}\r\n\t\t]\r\n\t}\r\n})","export const DEMO_DATA = {\r\n\tfoods: [\r\n\t\t{id: 0, title: 'Chicken', protein: 25, carbs: 1, fat: 1.5, servingSizeId: 0},\r\n\t\t{id: 1, title: 'Eggs', protein: 13, carbs: 1, fat: 11, servingSizeId: 0},\r\n\t\t{id: 2, title: 'Lentils', protein: 4.5, carbs: 11, fat: 2, servingSizeId: 0},\r\n\t\t{id: 3, title: 'Lettuce', protein: 1, carbs: 1, fat: 0.2, servingSizeId: 0},\r\n\t\t{id: 4, title: 'Vegetable mix', protein: 2, carbs: 8, fat: 0.5, servingSizeId: 0},\r\n\t\t{id: 5, title: 'Edamame', protein: 12, carbs: 11, fat: 4, servingSizeId: 0},\r\n\t\t{id: 6, title: 'Iso100', protein: 25, carbs: 0.8, fat: 0.6, servingSizeId: 1}\r\n\t],\r\n\tmeals: [\r\n\t\t{\r\n\t\t\tid: 0,\r\n\t\t\ttitle: 'Lunch', \r\n\t\t\tmeals: [\r\n\t\t\t\t{id: 0, foodId: 0, amount: 200},\r\n\t\t\t\t{id: 1, foodId: 1, amount: 100},\r\n\t\t\t\t{id: 2, foodId: 2, amount: 100},\r\n\t\t\t\t{id: 3, foodId: 3, amount: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\ttitle: 'Dinner', \r\n\t\t\tmeals: [\r\n\t\t\t\t{id: 0, foodId: 0, amount: 200},\r\n\t\t\t\t{id: 1, foodId: 4, amount: 120},\r\n\t\t\t\t{id: 2, foodId: 5, amount: 50},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\ttitle: 'Shakes',\r\n\t\t\tmeals: [\r\n\t\t\t\t{id: 0, foodId: 6, amount: 2}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};","import React from 'react';\r\n\r\nimport { Paper, List, ListItem, ListItemText } from '@material-ui/core';\r\nimport { useDispatch } from './State';\r\n\r\nfunction FoodList(props) {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onItemClicked = (event, index) => dispatch({type: 'showDetail', screen: 'foodDetail', context: props.items[index]});\r\n\r\n\tconst listItems = props.items.map((item, index) => {\r\n\t\tconst listItemText = !!item.title ?\r\n\t\t\t<ListItemText primary={item.title} /> :\r\n\t\t\t<ListItemText primary=\"No Title\" primaryTypographyProps={{component: 'i'}} />\r\n\r\n\t\treturn (\r\n\t\t\t<ListItem button onClick={event => onItemClicked(event, index)} key={index}>\r\n\t\t\t\t{listItemText}\r\n\t\t\t</ListItem>\r\n\t\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Paper elevation={props.elevation}>\r\n\t\t\t<List disablePadding>\r\n\t\t\t\t{listItems}\r\n\t\t\t</List>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nexport default FoodList;","import React from 'react';\r\nimport {\r\n  PieChart, Pie, Cell\r\n} from 'recharts';\r\n\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport './CalorieDisplay.css';\r\n\r\n\r\nfunction CalorieDisplay(props) {\r\n\tconst data = [\r\n\t\t{group: 'Protein', value: props.data.protein * 4},\r\n\t\t{group: 'Carbs', value: props.data.carbs * 4},\r\n\t\t{group: 'Fat', value: props.data.fat * 9}\r\n\t];\r\n\r\n\tconst cals = data.reduce((cals, macro) => cals += macro.value, 0);\r\n\r\n\tconst colors = ['#0088FE', '#00C49F', '#FFBB28'];\r\n\tconst pieBackgroundStyle = {width: props.size, height: props.height, border: props.size / 10 + 'px solid #ddd', borderRadius: props.size};\r\n\treturn (\r\n\t\t<div className=\"calorie-display-wrapper\">\t\r\n\t\t\t<div className=\"calorie-display-graphic\">\r\n\t\t\t\t<PieChart width={props.size} height={props.size} margin={{}}>\r\n\t\t\t\t\t<Pie\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\touterRadius=\"100%\"\r\n\t\t\t\t\t\tinnerRadius=\"80%\"\r\n\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\tisAnimationActive={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata.map((entry, index) => <Cell key={`cell-${index}`} fill={colors[index % colors.length]} />)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Pie>\r\n\t\t\t\t</PieChart>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"calorie-display-graphic\" style={pieBackgroundStyle}></div>\r\n\t\t\t<Typography variant=\"h5\" component=\"span\" className=\"calorie-display-count\">{cals.toFixed(1)}</Typography>\r\n\t\t\t<Typography variant=\"h6\" component=\"span\" className=\"calorie-display-label\">Cals</Typography>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CalorieDisplay;\r\n","import React from 'react';\r\nimport CalorieDisplay from './CalorieDisplay';\r\n\r\nimport { Grid, Typography } from '@material-ui/core';\r\n\r\nfunction MacrosPanel(props) {\r\n\treturn (\r\n\t\t<Grid container spacing={3}  wrap=\"nowrap\">\r\n\t\t\t<Grid item>\r\n\t\t\t\t<CalorieDisplay data={props.data} size={props.size || 160} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item container alignItems=\"center\" direction=\"column\" justify=\"space-evenly\">\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography>Protein</Typography>\r\n\t\t\t\t\t<Typography>{props.data.protein.toFixed(1)}g</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography>Carbs</Typography>\r\n\t\t\t\t\t<Typography>{props.data.carbs.toFixed(1)}g</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography>Fat</Typography>\r\n\t\t\t\t\t<Typography>{props.data.fat.toFixed(1)}g</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default MacrosPanel;\r\n","import React from 'react';\r\nimport { Paper, Grid, Divider, List, ListItem, ListItemText, Typography, Button, Collapse, Box, ButtonBase } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport MacrosPanel from './MacrosPanel';\r\nimport { useDispatch } from './State';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardPadding: {\r\n\t\tpadding: '1rem'\r\n\t},\r\n\tcardActionArea: {\r\n\t\tpadding: '0.5em'\r\n\t}\r\n}));\r\n\r\n\r\nfunction MealCard(props) {\r\n\tconst [expanded, setExpanded] = React.useState(false);\r\n\tconst dispatch = useDispatch();\r\n\tconst classes = useStyles();\r\n\r\n\tconst { meal } = props;\r\n\r\n\tconst mealEntries = meal.meals.map((mealEntry, index) => {\r\n\t\treturn (\r\n\t\t\t<ListItem key={index}>\r\n\t\t\t\t<ListItemText primary={mealEntry.foodTitle} secondary={mealEntry.amount + mealEntry.amountLabel} />\r\n\t\t\t</ListItem>\r\n\t\t\t);\r\n\t});\r\n\r\n\tconst onExpandClicked = () => setExpanded(!expanded);\r\n\tconst onMealCardClicked = () => dispatch({type: 'showDetail', context: meal});\r\n\r\n\treturn (\r\n\t\t<Paper>\r\n\t\t\t<Grid container direction=\"column\">\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography variant=\"h6\" component=\"h2\" className={classes.cardPadding}>{meal.title}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<ButtonBase onClick={onMealCardClicked}>\r\n\t\t\t\t\t\t<Grid container direction=\"column\">\r\n\t\t\t\t\t\t\t<Grid item className={classes.cardPadding}>\r\n\t\t\t\t\t\t\t\t<MacrosPanel data={meal.macroTotals} size={200} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n\t\t\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t\t\t{mealEntries}\r\n\t\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</ButtonBase>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Divider/>\r\n\t\t\t<Box className={classes.cardActionArea}>\r\n\t\t\t\t<Button className={classes.button} onClick={onExpandClicked}>{expanded ? 'COLLAPSE' : 'EXPAND'}</Button>\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nexport default MealCard;\r\n","import React from 'react';\r\nimport MealCard from './MealCard';\r\n\r\nimport { Grid } from '@material-ui/core';\r\n\r\nfunction MealContainer(props) {\r\n\tconst mealCards = props.items.map((item, index) => <Grid item key={item.id}><MealCard meal={item} classes={props.classes} /></Grid>)\r\n\treturn (\r\n\t\t<Grid container spacing={2} justify=\"center\">\r\n\t\t\t{mealCards}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default MealContainer;","import React from 'react';\r\nimport { useDispatch } from './State';\r\n\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialogRoot: {\r\n\t\tmaxheight: 600\r\n\t}\r\n}));\r\n\r\nexport default function DetailDialog(props) {\r\n\tconst dispatch = useDispatch();\r\n\tconst classes = useStyles();\r\n\tconst { item, size, children } = props;\r\n\r\n\tif(!item) return null;\r\n\r\n\tconst onClose = () => dispatch({type: 'closeDetail'});\r\n\tconst onSave = () => dispatch({type: 'persistDetail'});\r\n\tconst onDelete = () => dispatch({type: 'deleteDetail'});\r\n\treturn (\r\n\t\t<Dialog open={Boolean(item)} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth={size} fullWidth>\r\n\t\t\t<DialogTitle id=\"form-dialog-title\">{item.title}</DialogTitle>\r\n\t\t\t<DialogContent dividers className={classes.dialogRoot}>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button onClick={onClose}>Close</Button>\r\n\t\t\t\t{!item.object.isNew && <Button onClick={onDelete} color=\"secondary\">Delete</Button>}\r\n\t\t\t\t<Button onClick={onSave} color=\"primary\">Save</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n}","import React from 'react';\r\n\r\nimport { Grid, TextField, InputAdornment, Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\r\n\r\nimport CalorieDisplay from './CalorieDisplay';\r\nimport { useDispatch } from './State';\r\n\r\n\r\nfunction FoodDetailPanel(props) {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { item, servingSizes } = props;\r\n\r\n\tif (!item) return null;\r\n\r\n\tconst createHandler = (name, isFloat) => event => {\r\n\t\tlet value = event.target.value;\r\n\t\tif(isFloat) {\r\n\t\t\tvalue = parseFloat(value || 0); // treat falsy as 0\r\n\t\t\tif(isNaN(value)) {\r\n\t\t\t\tthrow Error(`Unable to parse value ${event.target.value}`);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdispatch({type: 'updateDetail', object: {...item, [name]: value}});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Grid container direction=\"column\" spacing={2}>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<CalorieDisplay data={item} size={220} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\tonChange={createHandler('title')}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Protein\"\r\n\t\t\t\t\tid=\"protein\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.protein}\r\n\t\t\t\t\tonChange={createHandler('protein', true)}\r\n\t\t\t        InputProps={{\r\n\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Carbs\"\r\n\t\t\t\t\tid=\"carbs\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.carbs}\r\n\t\t\t\t\tonChange={createHandler('carbs', true)}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Fat\"\r\n\t\t\t\t\tid=\"fat\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={item.fat}\r\n\t\t\t\t\tonChange={createHandler('fat', true)}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item>\r\n\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t<InputLabel>Serving Size</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabel=\"Serving Size\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={item.servingSizeId}\r\n\t\t\t\t\t\tonChange={createHandler('servingSizeId')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{servingSizes.map(servingSize => <MenuItem key={servingSize.id} value={servingSize.id}>{servingSize.label}</MenuItem>)}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default FoodDetailPanel;","import React from 'react';\r\nimport { Paper, Typography, TextField, InputAdornment, ButtonBase, Box } from '@material-ui/core';\r\nimport { CheckBox, CheckBoxOutlineBlank } from \"@material-ui/icons\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcard: {\r\n\t\twidth: '160px',\r\n\t},\r\n\tcardSelected: {\r\n\t\tbackgroundColor: 'rgba(0, 191, 255, 0.05)'\r\n\t},\r\n\tcardHeader: {\r\n\t\tpadding: theme.spacing(1),\r\n\t\twidth: '100%'\r\n\t},\r\n\tcardHeaderText: {\r\n\t\tflexGrow: 1\r\n\t},\r\n\tcardBody: {\r\n\t\tpadding: theme.spacing(1)\r\n\t}\r\n}));\r\n\r\nfunction MealEntryCard(props) {\r\n\tconst classes = useStyles();\r\n\tlet rootClass = classes.card;\r\n\tif(props.checked) {\r\n\t\trootClass = rootClass + ' ' + classes.cardSelected;\r\n\t}\r\n\r\n\tconst onAmountChanged = event => props.onAmountChanged(event.target.value);\r\n\tconst textFieldAdornment = props.amountLabel &&\r\n\t\t{endAdornment: <InputAdornment position=\"end\">{props.amountLabel}</InputAdornment>};\r\n\r\n\treturn (\r\n\t\t<Paper className={rootClass}>\r\n\t\t\t<ButtonBase onClick={props.onChecked} className={classes.cardHeader}>\r\n\t\t\t\t<Typography align=\"left\" className={classes.cardHeaderText}>{props.title}</Typography>\r\n\t\t\t\t{props.checked ? <CheckBox fontSize=\"small\" htmlColor=\"#189ad3\" /> : <CheckBoxOutlineBlank fontSize=\"small\" htmlColor=\"#189ad3\" />}\r\n\t\t\t</ButtonBase>\r\n\t\t\t<Box className={classes.cardBody}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"amount\"\r\n\t\t\t\t\tlabel=\"Amount\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tdisabled={!props.checked}\r\n\t\t\t\t\tvalue={props.amount}\r\n\t\t\t\t\tonChange={onAmountChanged}\r\n\t\t\t\t\tInputProps={textFieldAdornment}\r\n\t\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t\t);\r\n}\r\n\r\nexport default MealEntryCard;","import React from 'react';\r\nimport { TextField, Grid } from '@material-ui/core';\r\n\r\nimport MealEntryCard from './MealEntryCard';\r\nimport { useDispatch } from './State';\r\n\r\nfunction MealDetailPanel(props) {\r\n\tconst dispatch = useDispatch();\r\n\tconst {item, foodList} = props;\r\n\r\n\tif(!item) return null;\r\n\r\n\tconst isSelected = food => Boolean(item.meals.find(mealEntry => mealEntry.foodId === food.id));\r\n\tconst getAmount = food => ((item.meals.find(mealEntry => mealEntry.foodId === food.id) || {}).amount || 0);\r\n\tconst foodCardItems = foodList.map(food => ({...food, selected: isSelected(food), amount: getAmount(food)}));\r\n\r\n\tconst onChangeTitle = event => dispatch({type: 'updateDetail', object: {...item, title: event.target.value}});\r\n\r\n\tconst update = () => {\r\n\t\tconst mealEntries = foodCardItems.filter(item => item.selected).map(item => ({amount: item.amount, foodId: item.id}));\r\n\t\tdispatch({type: 'updateDetail', object: {...item, meals: mealEntries}});\r\n\t}\r\n\r\n\tconst createCheckHandler = index => () => {\r\n\t\tfoodCardItems[index].selected = !foodCardItems[index].selected;\r\n\t\tupdate();\r\n\t};\r\n\r\n\tconst createAmountChangedHandler = index => amount => {\r\n\t\tconst fAmount = parseFloat(amount);\r\n\t\tif(isNaN(fAmount)) {\r\n\t\t\tthrow Error('amount is not a float');\r\n\t\t}\r\n\t\tfoodCardItems[index].amount = fAmount;\r\n\t\tupdate();\r\n\t};\r\n\r\n\tconst mealEntryCards = foodCardItems.map((item, index) => {\r\n\t\treturn (\r\n\t\t\t<Grid item key={item.id}>\r\n\t\t\t\t<MealEntryCard\r\n\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\tamountLabel={item.amountLabel}\r\n\t\t\t\t\tamount={item.amount}\r\n\t\t\t\t\tchecked={item.selected}\r\n\t\t\t\t\tonChecked={createCheckHandler(index)}\r\n\t\t\t\t\tonAmountChanged={createAmountChangedHandler(index)}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>)\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction=\"column\">\r\n\t\t\t<Grid item>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\tonChange={onChangeTitle}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item container xs spacing={2} justify=\"center\">\r\n\t\t\t\t{mealEntryCards}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default MealDetailPanel;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.064 36.904c-3.46 62.976-22.019 124.532-46.448 182.35-49.574 116.458-143.509 210.479-254.802 269.07-26.653 14.06-54.612 26.988-83.44 35.192l-39.345-4.963C-26.759 486.15 66.54 422.757 135.724 339.714c65.661-81.085 107.168-182.101 115.881-286.148-5.302-18.073 6.684-17.981 20.466-16.662h21.993z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.778 38.441c-32.711 66.282-78.277 126.848-134.429 175.084-27.038 22.595-58.643 43.026-93.792 48.428l-38.398-5.107c70.8-15.671 124.527-69.866 167.634-125.076 21.734-29.854 43.083-60.554 56.863-95.035l42.122 1.706z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.741 36.555c13.952 71.51 43.174 139.958 82.589 201.088 3.748 11.42 35.43 31.122 24.491 34.844l-34.556 2.612c-46.053-45.121-70.347-106.478-93.406-165.37-4.943-22.093-24.341-56.573-17.058-72.547l37.94-.627z\"\n});\n\nvar SvgArrow = function SvgArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 273.586 547.228\",\n    height: 104,\n    width: 104,\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow.eec47024.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\n\r\nimport { AppBar, Toolbar, Tabs, Tab, Button, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport FoodList from './FoodList';\r\nimport MealContainer from './MealContainer';\r\nimport DetailDialog from './DetailDialog';\r\nimport FoodDetailPanel from './FoodDetailPanel';\r\nimport MealDetailPanel from './MealDetailPanel';\r\nimport { useDispatch } from './State';\r\nimport { ReactComponent as Arrow } from './arrow.svg';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst appDimensions = {\r\n\t\twidth: `calc(100% - ${theme.spacing(2)}px)`,\r\n\t\tmaxWidth: 968\r\n\t};\r\n\treturn {\r\n\t\tappBar: {\r\n\t\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\t\talignItems: 'center',\r\n\t\t\tflex: 'none'\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\t...appDimensions\r\n\t\t},\r\n\t\ttoolbarContent: {\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tscrollContainer: {\r\n\t\t\toverflow: 'hidden auto',\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\ttabContentWrapper: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\tmarginRight: 'calc(100% - 100vw)'\r\n\t\t},\r\n\t\ttabContent: {\r\n\t\t\t...appDimensions,\r\n\t\t\tpadding: '1em 0',\r\n\t\t\theight: '100%',\r\n\t\t\tmargin: 'auto',\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction emptyContent(text) {\r\n\treturn (\r\n\t\t<div className=\"empty-container\">\r\n\t\t\t<Typography variant=\"h3\" component=\"span\" color=\"inherit\">{text}</Typography>\r\n\t\t\t<Arrow fill=\"currentColor\"/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function ViewRoot(props) {\r\n\tconst classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { views, state } = props;\r\n\r\n\tconst foodView = state.foods.length === 0 ? emptyContent('Add new foods here!') :\r\n\t\t<FoodList elevation={1} items={state.foods} servingSizes={state.settings.servingSizes} />;\r\n\r\n\tconst mealView = state.meals.length === 0 ? emptyContent('Add new meals here!') : <MealContainer items={state.meals}/>;\r\n\r\n\tlet detailContent = null;\r\n\tif(state.detail) {\r\n\t\tdetailContent = state.selectedTab === 0 ?\r\n\t\t\t<FoodDetailPanel item={state.detail.object} servingSizes={state.settings.servingSizes} /> :\r\n\t\t\t<MealDetailPanel foodList={state.foods} item={state.detail.object} />\r\n\t}\r\n\r\n\r\n\tconst onTabChange = (e, newValue) => dispatch({type: 'selectTab', value: newValue});\r\n\tconst onPrimaryAction = () => dispatch({type: 'primaryAction'});\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0} className={classes.appBar}>\r\n\t\t\t\t<Toolbar variant=\"dense\" className={classes.toolbar} disableGutters>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tvalue={state.selectedTab}\r\n\t\t\t\t\t\tonChange={onTabChange}\r\n\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.toolbarContent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{views.map(view => <Tab label={view.label} key={'tabs-' + view.view} />)}\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={onPrimaryAction}>{views[state.selectedTab].buttonLabel}</Button>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<div className={classes.scrollContainer}>\r\n\t\t\t\t<div className={classes.tabContentWrapper}>\r\n\t\t\t\t\t<div className={classes.tabContent}>\r\n\t\t\t\t\t\t{state.selectedTab === 0 ? foodView : mealView}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<DetailDialog size={state.selectedTab === 0 ? 'xs' : 'sm'} item={state.detail}>\r\n\t\t\t\t{detailContent}\r\n\t\t\t</DetailDialog>\r\n\t\t</React.Fragment>\r\n\t);\r\n}","import React from 'react';\r\nimport { useDispatch } from '../State';\r\n\r\nimport { Dialog, AppBar, Toolbar, IconButton, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { ArrowBack, Delete, Save } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tappBar: {\r\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\tflex: 'none'\r\n\t},\r\n\tappBarTitle: {\r\n\t\tflex: 1\r\n\t},\r\n\tscrollContainer: {\r\n\t\toverflow: 'hidden auto',\r\n\t\tpadding: '2em'\r\n\t}\r\n}));\r\n\r\nexport default function DetailDialog(props) {\r\n\tconst dispatch = useDispatch();\r\n\tconst classes = useStyles();\r\n\r\n\tconst { item, children } = props;\r\n\r\n\tif(!item) return null;\r\n\r\n\tconst onClose = () => dispatch({type: 'closeDetail'});\r\n\tconst onSave = () => dispatch({type: 'persistDetail'});\r\n\tconst onDelete = () => dispatch({type: 'deleteDetail'});\r\n\treturn (\r\n\t\t<Dialog open={Boolean(item)} onClose={onClose} aria-labelledby=\"form-dialog-title\" fullScreen>\r\n\t\t\t<AppBar position=\"relative\" color=\"default\" elevation={0} className={classes.appBar}>\r\n\t\t\t\t<Toolbar disableGutters>\r\n\t\t\t\t\t<IconButton onClick={onClose}><ArrowBack /></IconButton>\r\n\t\t\t\t\t<Typography variant=\"h6\" component=\"h1\" className={classes.appBarTitle}>{item.title}</Typography>\r\n\t\t\t\t\t{!item.object.isNew && <IconButton color=\"secondary\" onClick={onDelete}><Delete /></IconButton>}\r\n\t\t\t\t\t<IconButton onClick={onSave} color=\"primary\"><Save /></IconButton>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<div className={classes.scrollContainer}>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</Dialog>\r\n\t);\r\n}","import React from 'react';\r\nimport { useDispatch } from '../State'\r\n\r\n\r\nimport { AppBar, Toolbar, BottomNavigation, BottomNavigationAction, Fab, Typography } from '@material-ui/core';\r\nimport { Add } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport FoodList from '../FoodList';\r\nimport MealContainer from '../MealContainer';\r\nimport FoodDetailPanel from '../FoodDetailPanel';\r\nimport MealDetailPanel from '../MealDetailPanel';\r\nimport DetailDialog from './DetailDialog'\r\nimport { ReactComponent as Arrow } from '../arrow.svg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tappBar: {\r\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\talignItems: 'center',\r\n\t\tflex: 'none'\r\n\t},\r\n\r\n\tbottomBar: {\r\n\t\tborderTop: `1px solid ${theme.palette.divider}`,\r\n\t\tflex: 'none'\r\n\t},\r\n\ttoolbar: {\r\n\t\twidth: '100%'\r\n\t},\r\n\tappBarTitle: {\r\n\t\tflex: 1\r\n\t},\r\n\tfab: {\r\n\t\tposition: 'fixed',\r\n\t\tbottom: 'calc(1em + 56px)',\r\n\t\tright: '1em'\r\n\t},\r\n\tscrollContainer: {\r\n\t\toverflow: 'hidden auto',\r\n\t\tflex: 1,\r\n\t},\r\n}));\r\n\r\nfunction emptyContent(text) {\r\n\treturn (\r\n\t\t<div className=\"empty-container\">\r\n\t\t\t<Typography variant=\"h3\" component=\"span\" color=\"inherit\">{text}</Typography>\r\n\t\t\t<Arrow fill=\"currentColor\"/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function ViewRoot(props) {\r\n\tconst classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { views, state } = props;\r\n\r\n\tconst foodView = state.foods.length === 0 ? emptyContent('Add new foods here!') :\r\n\t\t<FoodList elevation={0} items={state.foods} servingSizes={state.settings.servingSizes} />;\r\n\r\n\tconst mealView = state.meals.length === 0 ? emptyContent('Add new meals here!') : <MealContainer items={state.meals}/>;\r\n\r\n\tlet detailContent = null;\r\n\tif(state.detail) {\r\n\t\tdetailContent = state.selectedTab === 0 ?\r\n\t\t\t<FoodDetailPanel item={state.detail.object} servingSizes={state.settings.servingSizes} /> :\r\n\t\t\t<MealDetailPanel foodList={state.foods} item={state.detail.object} />\r\n\t}\r\n\r\n\r\n\tconst onTabChange = (e, newValue) => dispatch({type: 'selectTab', value: newValue});\r\n\tconst onPrimaryAction = () => dispatch({type: 'primaryAction'});\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0} className={classes.appBar}>\r\n\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t<Typography variant=\"h6\" component=\"h1\" className={classes.appBarTitle}>Meal Planner</Typography>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<div className={classes.scrollContainer}>\r\n\t\t\t\t{state.selectedTab === 0 ? foodView : mealView}\r\n\t\t\t</div>\r\n\t\t\t<BottomNavigation\r\n\t\t\t\tvalue={state.selectedTab}\r\n\t\t\t\tonChange={onTabChange}\r\n\t\t\t\tshowLabels\r\n\t\t\t\tclassName={classes.bottomBar}\r\n\t\t\t>\r\n\t\t\t\t{views.map(view => <BottomNavigationAction label={view.label} icon={view.icon} key={'bottomNav-' + view.view} />)}\r\n\t\t\t</BottomNavigation>\r\n\t\t\t<Fab color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={onPrimaryAction}><Add /></Fab>\r\n\t\t\t<DetailDialog item={state.detail}>\r\n\t\t\t\t{detailContent}\r\n\t\t\t</DetailDialog>\r\n\t\t</React.Fragment>\r\n\t);\r\n}","import React from 'react';\r\nimport ViewRoot from './ViewRoot';\r\nimport ViewRootMobile from './mobile/ViewRoot';\r\nimport { DispatchProvider, appReducer, INITIAL_STATE } from './State'\r\n\r\nimport { CssBaseline, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { Storage, Fastfood } from '@material-ui/icons';\r\n\r\nconst views = [\r\n\t{\r\n\t\tlabel: 'Database',\r\n\t\tview: 'food',\r\n\t\tbuttonLabel: 'ADD FOOD',\r\n\t\ticon: <Storage />\r\n\t},\r\n\t{\r\n\t\tlabel: 'Meals',\r\n\t\tview: 'meal',\r\n\t\tbuttonLabel: 'ADD MEAL',\r\n\t\ticon: <Fastfood />\r\n\t}\r\n];\r\n\r\nexport default function App() {\r\n\tconst [state, dispatch] = React.useReducer(appReducer, INITIAL_STATE);\r\n\tconst theme = useTheme();\r\n\tconst isMobile = useMediaQuery(theme.breakpoints.down('xs'));\r\n\r\n\tconst viewRoot = isMobile ? <ViewRootMobile views={views} state={state} /> : <ViewRoot views={views} state={state} />;\r\n\r\n\treturn (\r\n\t\t<DispatchProvider dispatch={dispatch}>\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t{viewRoot}\r\n\t\t\t</React.Fragment>\r\n\t\t</DispatchProvider>\r\n\t);\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}