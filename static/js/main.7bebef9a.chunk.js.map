{"version":3,"sources":["components/FoodList.js","components/FoodPanel.js","components/CalorieDisplay.js","components/MacrosPanel.js","components/ConfirmationDialog.js","reducers/foodReducer.js","DemoData.js","indexeddb.js","applicationStore.js","components/FoodDetailPanel.js","useCheckMobile.js","components/ScrollContainer.js","components/FoodSearchBox.js","components/AddFoodMask.js","reducers/mealReducer.js","components/MealDetailPanel.js","components/MealCard.js","components/MealContainer.js","components/SettingsPanel.js","reducers/settingsReducer.js","components/DemoDataNotice.js","vectors/arrow.svg","components/ViewRoot.js","App.js","reducers/servingSizesReducer.js","reducers/reducers.js","serviceWorker.js","index.js"],"names":["connect","state","items","foods","local","_ref","listItems","map","item","listItemText","title","react_default","a","createElement","ListItemText","primary","primaryTypographyProps","component","ListItem","button","Link","to","id","key","Paper","List","disablePadding","FoodPanel","props","Fragment","Typography","variant","paragraph","gutterBottom","href","components_FoodList","CalorieDisplay","data","size","colors","pieData","group","value","protein","carbs","fat","cals","reduce","macro","pieBackgroundStyle","width","height","border","borderRadius","className","es6","margin","outerRadius","innerRadius","dataKey","isAnimationActive","entry","index","concat","fill","style","toFixed","Dot","display","verticalAlign","marginRight","backgroundColor","color","macroColors","settings","hideMacroAmounts","buildSection","label","Grid","container","alignItems","spacing","wrap","components_CalorieDisplay","direction","justify","DetailDialog","message","open","onClose","onConfirm","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","onClick","foodsSlice","createSlice","slice","initialState","sfcd","reducers","putFood","action","_action$payload","payload","source","foodIndex","findIndex","food","push","deleteFood","Object","objectSpread","filter","clearFood","actions","reducer","demoFoods","servingSizeId","demoMeals","meals","foodId","amount","dbConfigs","localFoods","dbName","config","keyPath","autoIncrement","addIdIndex","dataPopulator","store","forEach","add","sfcdCache","meal","servingSizes","dbPromise","openDB","upgrade","db","oldVersion","toConsumableArray","objectStoreNames","deleteObjectStore","values","createObjectStore","createIndex","stores","keys","storeName","objectStoreName","getAll","asyncToGenerator","regenerator_default","mark","_callee","result","cursor","_context","prev","next","abrupt","sent","openCursor","continue","stop","_x","apply","this","arguments","then","get","save","put","delete","clear","storeFactory","validateFloat","name","isNaN","parseFloat","applicationStore","localFood","saveItem","_saveItem","newItem","deleteItem","_deleteItem","_callee2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","newMealItem","_context2","undefined","Symbol","iterator","done","t0","return","finish","_x2","clearItems","_clearItems","_callee3","_context3","getAllItems","_getAllItems","_callee4","_context4","sfcdFoodCache","getItem","_getItem","_callee5","_context5","_x3","_saveItem2","_callee6","_context6","_x4","_getAllItems2","_callee7","_context7","_clearItems2","_callee8","_context8","_saveItem3","_callee9","newMeal","_context9","_x5","_deleteItem2","_callee10","_context10","_x6","_clearItems3","_callee11","_context11","_getAllItems3","_callee12","_context12","_get","_callee13","_context13","_x7","dismissDemoDataNotice","_dismissDemoDataNotice","_callee14","_context14","useStyles","makeStyles","theme","root","alignContent","buttonContainer","_ref3","match","parseInt","params","find","backPath","_React$useState","React","useState","_React$useState2","slicedToArray","setItem","_React$useState3","_React$useState4","statusMessage","setStatusMessage","_React$useState5","_React$useState6","requestedDeletion","setRequestedDeletion","_React$useState7","_React$useState8","navigate","setNavigate","isMobile","useTheme","useMediaQuery","breakpoints","down","useCheckMobile","classes","isNew","createHandler","isFloat","event","target","defineProperty","onSave","onDelete","_ref2","components_MacrosPanel","TextField","fullWidth","onChange","type","InputProps","endAdornment","InputAdornment","position","FormControl","InputLabel","Select","servingSize","MenuItem","Snackbar","Boolean","autoHideDuration","react_router","replace","ScrollContainer","overflow","children","serverUrl","process","databaseHeaders","palette","background","paper","searchQuery","setSearchQuery","searchResults","setSearchResults","anchorEl","setAnchorEl","popperRef","createRef","useEffect","fetch","method","headers","Content-Type","Accept","body","JSON","stringify","query","variables","startsWith","r","json","createItemClickHandler","onSelectFood","foodToItemMapper","sfcdDatabaseItems","CircularProgress","onBlur","current","contains","relatedTarget","Popper","zIndex","ref","maxHeight","clientWidth","ListSubheader","toLowerCase","chip","chipLabel","flex","textOverflow","minWidth","setFood","setAmount","xs","components_FoodSearchBox","selected","Chip","onAddFood","mealsSlice","putMeal","mealIndex","deleteMeal","clearMeals","extraReducers","maxWidth","sm","_ref4","getFoodItem","_id$split","split","_id$split2","mealId","getTitle","mealEntry","getAmountLabel","getServingSize","valueLabel","mealEntries","createRemoveMealEntryHandler","autoFocus","components_AddFoodMask","disableGutters","secondary","ListItemSecondaryAction","IconButton","edge","Delete","cardPadding","padding","cardActionArea","ownProps","sumFunc","agg","macroTotals","getMacroTotals","expanded","setExpanded","ButtonBase","Collapse","in","timeout","unmountOnExit","Divider","Box","mealCards","components_MealCard","onClearData","elevation","settingsSlice","showDemoDataNotice","clearData","snackbar","bottom","placeAboveFab","settingsLink","messageBody","Close_default","anchorOrigin","vertical","horizontal","_extends","assign","i","length","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","arrow_ref2","d","arrow_ref3","arrow_ref4","arrow_SvgArrow","svgRef","viewBox","basePath","forwardRef","__webpack_require__","p","appDimensions","appBar","borderBottom","divider","toolbar","toolbarContent","scrollContainer","tabContentWrapper","overflowX","tabContent","emptyContent","justifyContent","paddingRight","emptyContentText","alignSelf","routes","path","detailRoute","FoodDetailPanel","MealContainer","MealDetailPanel","SettingsPanel","RootToolbarContent","location","Tabs","pathname","indicatorColor","textColor","route","Tab","DetailToolbarContent","goBack","setGoBack","ArrowBack","ViewRoot","renderRootToolbar","react_router_dom","basename","exact","render","AppBar","Toolbar","components_DemoDataNotice","App","CssBaseline","components_ViewRoot","foodReducer","mealReducer","settingsReducer","window","hostname","preloadedState","t1","t2","t3","t4","t5","t6","configureStore","ReactDOM","es","document","getElementById","load","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7bebef9a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Paper, List, ListItem, ListItemText } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction FoodList({items}) {\r\n\tconst listItems = items.map(item => {\r\n\t\tconst listItemText = !!item.title ?\r\n\t\t\t<ListItemText primary={item.title} /> :\r\n\t\t\t<ListItemText primary=\"No Title\" primaryTypographyProps={{component: 'i'}} />\r\n\r\n\t\treturn (\r\n\t\t\t<ListItem button component={Link} to={\"/database/local/\" + item.id} key={item.id}>\r\n\t\t\t\t{listItemText}\r\n\t\t\t</ListItem>\r\n\t\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Paper>\r\n\t\t\t<List disablePadding>\r\n\t\t\t\t{listItems}\r\n\t\t\t</List>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({items: state.foods.local});\r\n\r\nexport default connect(mapStateToProps)(FoodList);","import React from 'react';\r\nimport FoodList from './FoodList';\r\n\r\nimport { Typography, Link } from '@material-ui/core';\r\n\r\nfunction FoodPanel(props) {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Typography variant=\"h4\" paragraph>Swiss food composition database</Typography>\r\n\t\t\t<Typography gutterBottom>You have access to the <Link href=\"https://www.naehrwertdaten.ch/en/\">Swiss food composition database</Link> through the MealPlanner.</Typography>\r\n\t\t\t<Typography paragraph>Below is a complementary local database, in case you need to add foods not found in the database mentioned above.</Typography>\r\n\t\t\t<FoodList />\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default FoodPanel;","import React from 'react';\r\nimport {\r\n  PieChart, Pie, Cell\r\n} from 'recharts';\r\n\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport './CalorieDisplay.css';\r\n\r\n\r\nfunction CalorieDisplay(props) {\r\n\tconst {data, size, colors} = props;\r\n\tconst pieData = [\r\n\t\t{group: 'protein', value: data.protein * 4},\r\n\t\t{group: 'carbs', value: data.carbs * 4},\r\n\t\t{group: 'fat', value: data.fat * 9}\r\n\t];\r\n\r\n\tconst cals = pieData.reduce((cals, macro) => cals += macro.value, 0);\r\n\r\n\tconst pieBackgroundStyle = {width: size, height: size, border: size / 10 + 'px solid #ddd', borderRadius: size};\r\n\treturn (\r\n\t\t<div className=\"calorie-display-wrapper\">\t\r\n\t\t\t<div className=\"calorie-display-graphic\">\r\n\t\t\t\t<PieChart width={size} height={size} margin={{}}>\r\n\t\t\t\t\t<Pie\r\n\t\t\t\t\t\tdata={pieData}\r\n\t\t\t\t\t\touterRadius=\"100%\"\r\n\t\t\t\t\t\tinnerRadius=\"80%\"\r\n\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\tisAnimationActive={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpieData.map((entry, index) => <Cell key={`cell-${index}`} fill={colors[entry.group]} />)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Pie>\r\n\t\t\t\t</PieChart>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"calorie-display-graphic\" style={pieBackgroundStyle}></div>\r\n\t\t\t<Typography variant=\"h5\" component=\"span\" className=\"calorie-display-count\">{cals.toFixed(1)}</Typography>\r\n\t\t\t<Typography variant=\"h6\" component=\"span\" className=\"calorie-display-label\">Cals</Typography>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CalorieDisplay;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Grid, Typography } from '@material-ui/core';\r\n\r\nimport CalorieDisplay from './CalorieDisplay';\r\n\r\nfunction Dot({size, color}) {\r\n\tconst style = {\r\n\t\tdisplay: 'inline-block',\r\n\t\tverticalAlign: 'middle',\r\n\t\tmarginRight: '0.5em',\r\n\t\twidth: size,\r\n\t\theight: size,\r\n\t\tbackgroundColor: color,\r\n\t\tborderRadius: size\r\n\t};\r\n\treturn (\r\n\t\t<span style={style} />\r\n\t);\r\n}\r\n\r\nfunction MacrosPanel(props) {\r\n\tconst {data, size, hideMacroAmounts, macroColors} = props;\r\n\r\n\tconst buildSection = (label, macro) => {\r\n\t\treturn (\r\n\t\t\t<Grid item container alignItems=\"center\">\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Dot size=\"1em\" color={macroColors[macro]} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography>{label}</Typography>\r\n\t\t\t\t\t{ !hideMacroAmounts && <Typography>{data[macro].toFixed(1)}g</Typography> }\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<Grid container spacing={3}  wrap=\"nowrap\">\r\n\t\t\t<Grid item>\r\n\t\t\t\t<CalorieDisplay data={data} size={size || 160} colors={macroColors} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item container alignItems=\"center\" direction=\"column\" justify=\"space-evenly\">\r\n\t\t\t\t{buildSection('Protein', 'protein')}\r\n\t\t\t\t{buildSection('Carbs', 'carbs')}\r\n\t\t\t\t{buildSection('Fat', 'fat')}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tmacroColors: state.settings.macroColors\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(MacrosPanel);\r\n","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@material-ui/core';\r\n\r\nexport default function DetailDialog(props) {\r\n\tconst { title, message, open, onClose, onConfirm } = props;\r\n\treturn (\r\n\t\t<Dialog open={open} onClose={onClose}>\r\n\t\t\t<DialogTitle>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t{message}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button onClick={onClose}>Cancel</Button>\r\n\t\t\t\t<Button onClick={onConfirm} color=\"primary\">Confirm</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n}\r\n","import { createSlice } from 'redux-starter-kit';\r\n\r\nconst getInitialState = () => ({local: [], sfcd: []});\r\nconst foodsSlice = createSlice({\r\n\tslice: 'foods',\r\n\tinitialState: getInitialState(),\r\n\treducers: {\r\n\t\tputFood(state, action) {\r\n\t\t\tconst { item, source } = action.payload;\r\n\t\t\tconst foodIndex = state.local.findIndex(food => food.id === item.id);\r\n\t\t\tif(foodIndex !== -1) {\r\n\t\t\t\tstate[source][foodIndex] = item;\r\n\t\t\t} else {\r\n\t\t\t\tstate[source].push(item);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdeleteFood(state, action) {\r\n\t\t\treturn {...state, local: state.local.filter(food => food.id !== action.payload.id)};\r\n\t\t},\r\n\t\tclearFood(state, action) {\r\n\t\t\treturn getInitialState();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = foodsSlice;\r\nexport const { putFood, deleteFood, clearFood } = actions;\r\nexport default reducer;","const demoFoods = [\r\n\t{id: 0, title: 'Chicken', protein: 25, carbs: 1, fat: 1.5, servingSizeId: 0},\r\n\t{id: 1, title: 'Eggs', protein: 13, carbs: 1, fat: 11, servingSizeId: 0},\r\n\t{id: 2, title: 'Lentils', protein: 4.5, carbs: 11, fat: 2, servingSizeId: 0},\r\n\t{id: 3, title: 'Lettuce', protein: 1, carbs: 1, fat: 0.2, servingSizeId: 0},\r\n\t{id: 4, title: 'Vegetable mix', protein: 2, carbs: 8, fat: 0.5, servingSizeId: 0},\r\n\t{id: 5, title: 'Edamame', protein: 12, carbs: 11, fat: 4, servingSizeId: 0},\r\n\t{id: 6, title: 'Iso100', protein: 25, carbs: 0.8, fat: 0.6, servingSizeId: 1}\r\n];\r\n\r\nconst demoMeals = [\r\n\t{\r\n\t\tid: 0,\r\n\t\ttitle: 'Lunch',\r\n\t\tmeals: [\r\n\t\t\t{foodId: 'local-0', amount: 200},\r\n\t\t\t{foodId: 'local-1', amount: 100},\r\n\t\t\t{foodId: 'local-2', amount: 100},\r\n\t\t\t{foodId: 'local-3', amount: 100},\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: 'Dinner',\r\n\t\tmeals: [\r\n\t\t\t{foodId: 'local-0', amount: 200},\r\n\t\t\t{foodId: 'local-4', amount: 120},\r\n\t\t\t{foodId: 'local-5', amount: 50},\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: 'Shakes',\r\n\t\tmeals: [\r\n\t\t\t{foodId: 'local-6', amount: 2}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport {demoFoods, demoMeals};","import { openDB } from 'idb';\r\nimport { demoFoods, demoMeals } from './DemoData';\r\n\r\nconst dbConfigs = {\r\n\tlocalFoods: {\r\n\t\tdbName: 'localFoods',\r\n\t\tconfig: { keyPath: 'id', autoIncrement: true},\r\n\t\taddIdIndex: true,\r\n\t\tdataPopulator: addDemoFoods\r\n\t},\r\n\tsfcdCache: {\r\n\t\tdbName: 'sfcdFoods',\r\n\t\tconfig: { keyPath: 'id' },\r\n\t\taddIdIndex: true\r\n\t},\r\n\tmeals: {\r\n\t\tdbName: 'meals',\r\n\t\tconfig: { keyPath: 'id', autoIncrement: true},\r\n\t\taddIdIndex: true,\r\n\t\tdataPopulator: addDemoMeals\r\n\t},\r\n\tservingSizes: {\r\n\t\tdbName: 'servingSize',\r\n\t\tconfig: { keyPath: 'id', autoIncrement: true}\r\n\t},\r\n\tsettings: {\r\n\t\tdbName: 'settings',\r\n\t\tdataPopulator: addDefaultSettings\r\n\t}\r\n}\r\n\r\n\r\nfunction addDemoFoods(store) {\r\n\tdemoFoods.forEach(item => store.add(item));\r\n}\r\nfunction addDemoMeals(store) {\r\n\tdemoMeals.forEach(meal => store.add(meal));\r\n}\r\nfunction addDefaultSettings(store) {\r\n\tstore.add({\r\n\t\tprotein: '#0088FE',\r\n\t\tcarbs: '#00C49F',\r\n\t\tfat: '#FFBB28'\r\n\t}, 'macroColors');\r\n}\r\n\r\nconst dbPromise = openDB('MealPlanner', 2, {\r\n\tupgrade(db, oldVersion) {\r\n\t\tif (oldVersion < 2) {\r\n\t\t\t// reset old dbs\r\n\t\t\t[...db.objectStoreNames].forEach(dbName => db.deleteObjectStore(dbName));\r\n\r\n\t\t\tObject.values(dbConfigs).forEach(config => {\r\n\t\t\t\tconst store = db.createObjectStore(config.dbName, config.config);\r\n\t\t\t\tif(config.addIdIndex) {\r\n\t\t\t\t\tstore.createIndex('id', 'id');\r\n\t\t\t\t}\r\n\t\t\t\tif(config.dataPopulator) {\r\n\t\t\t\t\tconfig.dataPopulator(store);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nfunction storeFactory(objectStoreName) {\r\n\tconst getAll = async store => {\r\n\t\tif(store.getAll) {\r\n\t\t\treturn await store.getAll(objectStoreName);\r\n\t\t}\r\n\r\n\t\tconst result = [];\r\n\t\tlet cursor = await store.openCursor();\r\n\t\twhile (cursor) {\r\n\t\t\tresult.push(cursor.value);\r\n\t\t\tcursor = await cursor.continue();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\treturn {\r\n\t\tgetAll: () => dbPromise.then(store => getAll(store)),\r\n\t\tget: key => dbPromise.then(store => store.get(objectStoreName, key)),\r\n\t\tsave: item => dbPromise.then(\r\n\t\t\t\tstore => store.put(objectStoreName, item)\r\n\t\t\t\t.then(key => store.get(objectStoreName, key))),\r\n\t\t'delete': id => dbPromise.then(store => store.delete(objectStoreName, id)),\r\n\t\tput: (value, key) => dbPromise.then(store => store.put(objectStoreName, value, key)),\r\n\t\tclear: () => dbPromise.then(store => store.clear(objectStoreName))\r\n\t}\r\n}\r\n\r\nconst stores = Object.keys(dbConfigs).reduce((stores, storeName) => {\r\n\tstores[storeName] = storeFactory(dbConfigs[storeName].dbName);\r\n\treturn stores;\r\n}, {});\r\n\r\n// return a map for accessing every store\r\nexport default stores;\r\n\t","import db from './indexeddb.js';\r\n\r\nfunction validateFloat(item, name) {\r\n\tif (item[name] === '' || isNaN(item[name])){\r\n\t\titem[name] = 0;\r\n\t}\r\n\telse {\r\n\t\titem[name] = parseFloat(item[name]);\r\n\t}\r\n}\r\n\r\nexport default {\r\n\tlocalFood: {\r\n\t\tsaveItem: async function(food) {\r\n\t\t\tconst newItem = {...food};\r\n\t\t\tconst boundValidateFloat = name => validateFloat(newItem, name);\r\n\t\t\t['protein', 'carbs', 'fat'].forEach(boundValidateFloat);\r\n\r\n\t\t\treturn db.localFoods.save(newItem);\r\n\t\t},\r\n\t\tdeleteItem: async function(food) {\r\n\t\t\tawait db.localFoods.delete(food.id);\r\n\t\t\tconst meals = await db.meals.getAll();\r\n\t\t\tfor(const meal of meals) {\r\n\t\t\t\tconst newMealItem = {...meal, meals: meal.meals.filter(entry => entry.foodId !== 'local-'+food.id)};\r\n\t\t\t\tawait db.meals.save(newMealItem);\r\n\t\t\t}\r\n\t\t},\r\n\t\tclearItems: async function() {\r\n\t\t\tdb.localFoods.clear();\r\n\t\t},\r\n\t\tgetAllItems: async function() {\r\n\t\t\treturn db.localFoods.getAll();\r\n\t\t}\r\n\t},\r\n\r\n\tsfcdFoodCache: {\r\n\t\tgetItem: async function(id) {\r\n\t\t\treturn db.sfcdCache.get(id);\r\n\t\t},\r\n\t\tsaveItem: async function(food) {\r\n\t\t\treturn db.sfcdCache.save(food);\r\n\t\t},\r\n\t\tgetAllItems: async function() {\r\n\t\t\treturn db.sfcdCache.getAll();\r\n\t\t},\r\n\t\tclearItems: async function() {\r\n\t\t\treturn db.sfcdCache.clear();\r\n\t\t}\r\n\t},\r\n\r\n\tmeals: {\r\n\t\tsaveItem: async function(meal) {\r\n\t\t\tconst newMeal = {...meal};\r\n\t\t\tvalidateFloat(newMeal, 'amount');\r\n\t\t\treturn db.meals.save(newMeal);\r\n\t\t},\r\n\t\tdeleteItem: async function(meal) {\r\n\t\t\tdb.meals.delete(meal.id);\r\n\t\t},\r\n\t\tclearItems: async function() {\r\n\t\t\tdb.meals.clear();\r\n\t\t},\r\n\t\tgetAllItems: async function() {\r\n\t\t\treturn db.meals.getAll();\r\n\t\t}\r\n\t},\r\n\r\n\tsettings: {\r\n\t\tget: async function(key) {\r\n\t\t\treturn db.settings.get(key)\r\n\t\t},\r\n\t\tdismissDemoDataNotice: async function() {\r\n\t\t\tdb.settings.put(true, 'demoDataNoticeShown');\r\n\t\t}\r\n\t}\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid, TextField, InputAdornment, Select, MenuItem, FormControl, InputLabel, Button, Snackbar } from '@material-ui/core';\r\nimport { Redirect } from 'react-router';\r\n\r\nimport MacrosPanel from './MacrosPanel';\r\nimport ConfirmationDialog from './ConfirmationDialog';\r\nimport { putFood, deleteFood } from '../reducers/foodReducer';\r\nimport useCheckMobile from '../useCheckMobile';\r\nimport applicationStore from '../applicationStore';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\talignContent: 'center'\r\n\t\t},\r\n\t\tbuttonContainer: {\r\n\t\t\talignContent: 'flex-end'\r\n\t\t}\r\n\t};\r\n});\r\n\r\nfunction FoodDetailPanel(props) {\r\n\tconst { servingSizes, putFood, deleteFood, backPath } = props;\r\n\tconst [item, setItem] = React.useState({...props.item});\r\n\tconst [statusMessage, setStatusMessage] = React.useState(null);\r\n\tconst [requestedDeletion, setRequestedDeletion] = React.useState(false);\r\n\tconst [navigate, setNavigate] = React.useState(null);\r\n\tconst isMobile = useCheckMobile();\r\n\tconst classes = useStyles();\r\n\r\n\tif (!item) return null;\r\n\r\n\tif(props.item && (item.id !== props.item.id)) {\r\n\t\tsetItem({...props.item});\r\n\t}\r\n\tconst isNew = item.id === undefined;\r\n\r\n\tconst createHandler = (name, isFloat) => event => {\r\n\t\tlet value = event.target.value;\r\n\t\tif(isFloat && isNaN(value)) {\r\n\t\t\tvalue = item[name];\r\n\t\t}\r\n\t\tsetItem({...item, [name]: value});\r\n\t}\r\n\r\n\tconst onSave = async () => {\r\n\t\ttry {\r\n\t\t\tconst newItem = await applicationStore.localFood.saveItem(item);\r\n\t\t\t// adds food to application state\r\n\t\t\tputFood({item: newItem, source: 'local'});\r\n\t\t\t// update state of this component\r\n\t\t\tsetNavigate('/database/local/' + newItem.id);\r\n\t\t\tsetStatusMessage('Saved successfully.');\r\n\t\t} catch {\r\n\t\t\tsetStatusMessage('Error occurred.');\r\n\t\t}\r\n\t};\r\n\r\n\tconst onDelete = async () => {\r\n\t\tsetRequestedDeletion(false);\r\n\t\ttry {\r\n\t\t\tawait applicationStore.localFood.deleteItem(item);\r\n\t\t\tdeleteFood(item);\r\n\t\t\tsetNavigate(backPath)\r\n\t\t} catch {\r\n\t\t\tsetStatusMessage('Error occurred');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Grid container direction=\"column\" spacing={2} className={classes.root}>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<MacrosPanel data={item} size={220} hideMacroAmounts />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\tonChange={createHandler('title')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype={isMobile ? 'number' : 'text'}\r\n\t\t\t\t\t\tlabel=\"Protein\"\r\n\t\t\t\t\t\tid=\"protein\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={item.protein}\r\n\t\t\t\t\t\tonChange={createHandler('protein', true)}\r\n\t\t\t\t        InputProps={{\r\n\t\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype={isMobile ? 'number' : 'text'}\r\n\t\t\t\t\t\tlabel=\"Carbs\"\r\n\t\t\t\t\t\tid=\"carbs\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={item.carbs}\r\n\t\t\t\t\t\tonChange={createHandler('carbs', true)}\r\n\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype={isMobile ? 'number' : 'text'}\r\n\t\t\t\t\t\tlabel=\"Fat\"\r\n\t\t\t\t\t\tid=\"fat\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={item.fat}\r\n\t\t\t\t\t\tonChange={createHandler('fat', true)}\r\n\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">g</InputAdornment>\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t<InputLabel>Serving Size</InputLabel>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tlabel=\"Serving Size\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvalue={item.servingSizeId}\r\n\t\t\t\t\t\t\tonChange={createHandler('servingSizeId')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{servingSizes.map(servingSize => <MenuItem key={servingSize.id} value={servingSize.id}>{servingSize.label}</MenuItem>)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item className={classes.buttonContainer}>\r\n\t\t\t\t\t<Grid container spacing={2} justify=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t{ !isNew && <Button color=\"secondary\" onClick={() => setRequestedDeletion(true)}>Delete</Button> }\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={onSave}>Save</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Snackbar open={Boolean(statusMessage)} message={<span>{statusMessage}</span>} autoHideDuration={3000} onClose={() => setStatusMessage(null)}/>\r\n\t\t\t<ConfirmationDialog \r\n\t\t\t\topen={Boolean(requestedDeletion)} \r\n\t\t\t\ttitle=\"Confirm\"\r\n\t\t\t\tmessage=\"Are you sure you want to delete this item?\"\r\n\t\t\t\tonClose={() => setRequestedDeletion(false)}\r\n\t\t\t\tonConfirm={onDelete} \r\n\t\t\t\t/>\r\n\t\t\t{ navigate && <Redirect to={navigate} replace /> }\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state, { match }) => {\r\n\tconst foodId = parseInt(match.params.id);\r\n\tlet item = isNaN(foodId) ?\r\n\t\t{title: '', protein: 0, carbs: 0, fat: 0, servingSizeId: 0} :\r\n\t\tstate.foods.local.find(food => food.id === foodId);\r\n\t\r\n\treturn {\r\n\t\titem: item,\r\n\t\tservingSizes: state.servingSizes\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps, { putFood, deleteFood })(FoodDetailPanel);","import { useMediaQuery, useTheme } from '@material-ui/core';\r\n\r\nexport default function useCheckMobile() {\r\n\tconst theme = useTheme();\r\n\treturn useMediaQuery(theme.breakpoints.down('xs'));\r\n}\r\n","import React from 'react';\r\n\r\nexport default function ScrollContainer(props) {\r\n\tconst style = {overflow: 'hidden auto', ...props.style};\r\n\treturn <div style={style}>{props.children}</div>\r\n}\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { TextField, Popper, Paper, List, ListItem, ListItemText, ListSubheader, CircularProgress } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport ScrollContainer from './ScrollContainer';\r\nconst serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tdatabaseHeaders: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper\r\n\t\t}\r\n\t};\r\n});\r\n\r\n\r\nfunction FoodSearchBox(props) {\r\n\tconst [searchQuery, setSearchQuery] = React.useState('');\r\n\tconst [searchResults, setSearchResults] = React.useState(null);\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\r\n\tconst classes = useStyles();\r\n\tconst popperRef = React.createRef();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(searchQuery) {\r\n\t\t\tconst query = `query food($startsWith: String!) {\r\n\t\t\t\tfood(startsWith: $startsWith) {\r\n\t\t\t\t\tid, title, kcal, protein, carbs, fat\r\n\t\t\t\t}\r\n\t\t\t}`;\r\n\t\t\tfetch(serverUrl + '/graphql', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({query, variables: {startsWith: searchQuery}})\r\n\t\t\t})\r\n\t\t\t\t.then(r => r.json())\r\n\t\t\t\t.then(data => setSearchResults(data.data.food));\r\n\t\t}\r\n\t}, [searchQuery]);\r\n\r\n\tconst onChangeSearchQuery = event => {\r\n\t\tsetAnchorEl(event.target);\r\n\t\tsetSearchQuery(event.target.value);\r\n\t};\r\n\r\n\tconst onBlur = event => {\r\n\t\t// losing focus to the popper is fine, because we want the items to be clickable\r\n\t\tif(!(popperRef.current && popperRef.current.contains(event.relatedTarget)))\r\n\t\t\tsetSearchQuery('');\r\n\t}\r\n\r\n\tconst createItemClickHandler = (food, source) => () => {\r\n\t\tprops.onSelectFood(food, source);\r\n\t\tsetSearchQuery('');\r\n\t}\r\n\r\n\tconst open = Boolean(searchQuery);\r\n\tconst id = open ? 'search-box-popper' : undefined;\r\n\r\n\tconst foodToItemMapper = source => food => (\r\n\t\t<ListItem key={food.id} button onClick={createItemClickHandler(food, source)}>\r\n\t\t\t<ListItemText>{food.title}</ListItemText>\r\n\t\t</ListItem>);\r\n\r\n\tconst sfcdDatabaseItems = searchResults === null ?\r\n\t\t<ListItem><CircularProgress /></ListItem> :\r\n\t\tsearchResults.map(foodToItemMapper('sfcd'));\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<TextField\r\n\t\t\t\tfullWidth\r\n\t\t\t\tid=\"foodSearchBox\"\r\n\t\t\t\tlabel=\"Search Food\"\r\n\t\t\t\tvalue={searchQuery}\r\n\t\t\t\tonChange={onChangeSearchQuery}\r\n\t\t\t\tonBlur={onBlur}\r\n\t\t\t/>\r\n\t\t\t<Popper id={id} open={open} anchorEl={anchorEl} style={{zIndex: 5000}} ref={popperRef}>\r\n\t\t\t\t<Paper>\r\n\t\t\t\t\t<ScrollContainer style={{maxHeight: 400}}>\r\n\t\t\t\t\t\t<List style={{width: anchorEl ? anchorEl.clientWidth: undefined}}>\r\n\t\t\t\t\t\t\t<ListSubheader className={classes.databaseHeaders}>Local Database</ListSubheader>\r\n\t\t\t\t\t\t\t{props.localFoods.filter(food => food.title.toLowerCase().startsWith(searchQuery.toLowerCase())).map(foodToItemMapper('local'))}\r\n\t\t\t\t\t\t\t<ListSubheader className={classes.databaseHeaders}>SFCD</ListSubheader>\r\n\t\t\t\t\t\t\t{sfcdDatabaseItems}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</ScrollContainer>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Popper>\r\n\t\t</React.Fragment>\r\n\t);\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tlocalFoods: state.foods.local\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(FoodSearchBox);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { TextField, Grid, Button, Chip } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport FoodSearchBox from './FoodSearchBox';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tchip: {\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\tchipLabel: {\r\n\t\t\tflex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\tmarginRight: 12,\r\n\t\t\tminWidth: 0\r\n\t\t}\r\n\t};\r\n});\r\n\r\n\r\nfunction AddFoodMask(props) {\r\n\tconst [food, setFood] = React.useState(null);\r\n\tconst [amount, setAmount] = React.useState('');\r\n\tconst classes = useStyles();\r\n\r\n\tconst onSelectFood = (food, source) => setFood({selected: food, source: source});\r\n\tconst onSelectedFoodDelete = () => setFood(null);\r\n\tconst onAmountChange = event => {\r\n\t\tconst value = event.target.value;\r\n\t\tif(!isNaN(value))\r\n\t\t\tsetAmount(event.target.value)\r\n\t};\r\n\tconst onAddClick = () => {\r\n\t\tprops.onAddFood(food.selected, food.source, amount || 0);\r\n\t\tsetFood(null);\r\n\t\tsetAmount('');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} alignItems=\"flex-end\" justify=\"space-between\">\r\n\t\t\t<Grid item xs={7}>\r\n\t\t\t{\r\n\t\t\t\tfood === null ?\r\n\t\t\t\t\t<FoodSearchBox onSelectFood={onSelectFood}/> :\r\n\t\t\t\t\t<Chip classes={{root: classes.chip, label: classes.chipLabel}} label={food.selected.title} onDelete={onSelectedFoodDelete} />\r\n\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={3}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"amount\"\r\n\t\t\t\t\tlabel=\"Amount\"\r\n\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\tonChange={onAmountChange}\r\n\t\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={2}>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={onAddClick}>Add</Button>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(AddFoodMask);","import { createSlice } from 'redux-starter-kit';\r\nimport { deleteFood } from './foodReducer';\r\n\r\nconst mealsSlice = createSlice({\r\n\tslice: 'meals',\r\n\tinitialState: [],\r\n\treducers: {\r\n\t\tputMeal(state, action) {\r\n\t\t\tconst mealIndex = state.findIndex(meal => meal.id === action.payload.id);\r\n\t\t\tif(mealIndex !== -1) {\r\n\t\t\t\tstate[mealIndex] = action.payload;\r\n\t\t\t} else {\r\n\t\t\t\tstate.push(action.payload);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdeleteMeal(state, action) {\r\n\t\t\treturn state.filter(meal => meal.id !== action.payload.id);\r\n\t\t},\r\n\t\tclearMeals(state, action) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t},\r\n\textraReducers: {\r\n\t\t[deleteFood]: (state, action) => {\r\n\t\t\tstate.forEach(meal => meal.meals = meal.meals.filter(entry => entry.foodId !== 'local-'+action.payload.id));\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = mealsSlice;\r\nexport const { putMeal, deleteMeal, clearMeals } = actions;\r\nexport default reducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { TextField, Grid, List, ListItem, ListItemText, ListItemSecondaryAction, IconButton, Button, Snackbar } from '@material-ui/core';\r\nimport { Delete } from '@material-ui/icons';\r\nimport { Redirect } from 'react-router'\r\n\r\nimport AddFoodMask from './AddFoodMask';\r\nimport ConfirmationDialog from './ConfirmationDialog';\r\nimport applicationStore from '../applicationStore';\r\nimport { putMeal, deleteMeal } from '../reducers/mealReducer';\r\nimport { putFood } from '../reducers/foodReducer';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tmargin: 'auto',\r\n\t\t\tmaxWidth: theme.breakpoints.values.sm\r\n\t\t},\r\n\t\tbuttonContainer: {\r\n\t\t\talignContent: 'flex-end'\r\n\t\t}\r\n\t};\r\n});\r\n\r\nfunction MealDetailPanel(props) {\r\n\tconst { getTitle, getAmountLabel, backPath, putMeal, deleteMeal, putFood } = props;\r\n\tconst [item, setItem] = React.useState({...props.item});\r\n\tconst [statusMessage, setStatusMessage] = React.useState(null);\r\n\tconst [requestedDeletion, setRequestedDeletion] = React.useState(false);\r\n\tconst [navigate, setNavigate] = React.useState(null);\r\n\tconst classes = useStyles();\r\n\r\n\tif(!item) return null;\r\n\r\n\tif(props.item && (item.id !== props.item.id)) {\r\n\t\tsetItem({...props.item});\r\n\t}\r\n\tconst isNew = item.id === undefined;\r\n\r\n\r\n\tconst onChangeTitle = event => setItem({...item, title: event.target.value});\r\n\tconst onAddFood = async (food, source, amount) => {\r\n\t\tconst mealEntries = [...item.meals, {foodId: `${source}-${food.id}`, amount: amount}];\r\n\t\tif(source === 'sfcd') {\r\n\t\t\tconst newItem = await applicationStore.sfcdFoodCache.saveItem(food);\r\n\t\t\tputFood({item: newItem, source: 'sfcd'});\r\n\t\t}\r\n\t\tsetItem({...item, meals: mealEntries});\r\n\t};\r\n\r\n\tconst createRemoveMealEntryHandler = mealEntry => () => {\r\n\t\tsetItem({...item, meals: item.meals.filter(entry => entry !== mealEntry)});\r\n\t};\r\n\r\n\r\n\tconst onSave = async () => {\r\n\t\ttry {\r\n\t\t\tconst newItem = await applicationStore.meals.saveItem(item);\r\n\t\t\t// adds meal to application state\r\n\t\t\tputMeal(newItem);\r\n\t\t\t// update state of this component\r\n\t\t\tsetNavigate('/meals/' + newItem.id);\r\n\t\t\tsetStatusMessage('Saved successfully.');\r\n\t\t} catch {\r\n\t\t\tsetStatusMessage('Error occurred.');\r\n\t\t}\r\n\t};\r\n\r\n\tconst onDelete = async () => {\r\n\t\tsetRequestedDeletion(false);\r\n\t\ttry {\r\n\t\t\tawait applicationStore.meals.deleteItem(item);\r\n\t\t\tdeleteMeal(item);\r\n\t\t\tsetNavigate(backPath)\r\n\t\t} catch {\r\n\t\t\tsetStatusMessage('Error occurred');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Grid container spacing={2} direction=\"column\" className={classes.root}>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\tonChange={onChangeTitle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<AddFoodMask onAddFood={onAddFood}/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.meals.map((mealEntry, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={index} disableGutters>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={getTitle(mealEntry)} secondary={mealEntry.amount + getAmountLabel(mealEntry)} />\r\n\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton edge=\"end\" onClick={createRemoveMealEntryHandler(mealEntry)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item className={classes.buttonContainer}>\r\n\t\t\t\t\t<Grid container spacing={2} justify=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t{ !isNew && <Button color=\"secondary\" onClick={() => setRequestedDeletion(true)}>Delete</Button> }\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={onSave}>Save</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Snackbar open={Boolean(statusMessage)} message={<span>{statusMessage}</span>} autoHideDuration={3000} onClose={() => setStatusMessage(null)}/>\r\n\t\t\t<ConfirmationDialog \r\n\t\t\t\topen={Boolean(requestedDeletion)} \r\n\t\t\t\ttitle=\"Confirm\"\r\n\t\t\t\tmessage=\"Are you sure you want to delete this item?\"\r\n\t\t\t\tonClose={() => setRequestedDeletion(false)}\r\n\t\t\t\tonConfirm={onDelete} \r\n\t\t\t\t/>\r\n\t\t\t{ navigate && <Redirect to={navigate} replace /> }\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state, { match }) => {\r\n\tconst getFoodItem = id => {\r\n\t\tlet [db, foodId] = id.split('-');\r\n\t\tfoodId = parseInt(foodId);\r\n\t\treturn state.foods[db].find(food => food.id === foodId);\r\n\t}\r\n\tconst getServingSize = food => {\r\n\t\tlet servingSize = state.servingSizes.find(size => size.id === food.servingSizeId);\r\n\t\tif(!servingSize) {\r\n\t\t\t// default to first\r\n\t\t\tservingSize = state.servingSizes[0];\r\n\t\t}\r\n\t\treturn servingSize;\r\n\t\t\r\n\t}\r\n\r\n\tconst mealId = parseInt(match.params.id);\r\n\tlet item = isNaN(mealId) ?\r\n\t\t{title: '', meals: []} :\r\n\t\tstate.meals.find(meal => meal.id === mealId);\r\n\r\n\treturn {\r\n\t\tgetTitle: mealEntry => getFoodItem(mealEntry.foodId).title,\r\n\t\tgetAmountLabel: mealEntry => getServingSize(getFoodItem(mealEntry.foodId)).valueLabel,\r\n\t\titem: item,\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { putMeal, deleteMeal, putFood })(MealDetailPanel);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Paper, Grid, Divider, List, ListItem, ListItemText, Typography, Button, Collapse, Box, ButtonBase } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport MacrosPanel from './MacrosPanel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardPadding: {\r\n\t\tpadding: '1rem'\r\n\t},\r\n\tcardActionArea: {\r\n\t\tpadding: '0.5em'\r\n\t}\r\n}));\r\n\r\n\r\nfunction MealCard(props) {\r\n\tconst [expanded, setExpanded] = React.useState(false);\r\n\tconst classes = useStyles();\r\n\r\n\tconst { meal, macroTotals, getTitle, getAmountLabel } = props;\r\n\r\n\tconst mealEntries = meal.meals.map((mealEntry, index) => {\r\n\t\treturn (\r\n\t\t\t<ListItem key={index}>\r\n\t\t\t\t<ListItemText primary={getTitle(mealEntry)} secondary={mealEntry.amount + getAmountLabel(mealEntry)} />\r\n\t\t\t</ListItem>\r\n\t\t\t);\r\n\t});\r\n\r\n\tconst onExpandClicked = () => setExpanded(!expanded);\r\n\r\n\treturn (\r\n\t\t<Paper>\r\n\t\t\t<Grid container direction=\"column\">\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography variant=\"h6\" component=\"h2\" className={classes.cardPadding}>{meal.title}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<ButtonBase component={Link} to={'/meals/'+meal.id}>\r\n\t\t\t\t\t\t<Grid container direction=\"column\">\r\n\t\t\t\t\t\t\t<Grid item className={classes.cardPadding}>\r\n\t\t\t\t\t\t\t\t<MacrosPanel data={macroTotals} size={200} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n\t\t\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t\t\t{mealEntries}\r\n\t\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</ButtonBase>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Divider/>\r\n\t\t\t<Box className={classes.cardActionArea}>\r\n\t\t\t\t<Button className={classes.button} onClick={onExpandClicked}>{expanded ? 'COLLAPSE' : 'EXPAND'}</Button>\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\tconst getFoodItem = id => {\r\n\t\tlet [db, foodId] = id.split('-');\r\n\t\tfoodId = parseInt(foodId);\r\n\t\treturn state.foods[db].find(food => food.id === foodId);\r\n\t}\r\n\tconst getServingSize = food => {\r\n\t\tlet servingSize = state.servingSizes.find(size => size.id === food.servingSizeId);\r\n\t\tif(!servingSize) {\r\n\t\t\t// default to first\r\n\t\t\tservingSize = state.servingSizes[0];\r\n\t\t}\r\n\t\treturn servingSize;\r\n\t\t\r\n\t}\r\n\t\r\n\tconst sumFunc = name => {\r\n\t\treturn (agg, item) => {\r\n\t\t\tconst food = getFoodItem(item.foodId);\r\n\t\t\treturn agg + (food[name] * (item.amount / getServingSize(food).value));\r\n\t\t};\r\n\t};\r\n\r\n\tconst getMacroTotals = meal => {\r\n\t\treturn {\r\n\t\t\tprotein: meal.meals.reduce(sumFunc('protein'), 0),\r\n\t\t\tcarbs: meal.meals.reduce(sumFunc('carbs'), 0),\r\n\t\t\tfat: meal.meals.reduce(sumFunc('fat'), 0)\r\n\t\t}\r\n\t};\r\n\r\n\tconst { meal } = ownProps;\r\n\r\n\treturn {\r\n\t\tmacroTotals: getMacroTotals(meal),\r\n\t\tgetTitle: mealEntry => getFoodItem(mealEntry.foodId).title,\r\n\t\tgetAmountLabel: mealEntry => getServingSize(getFoodItem(mealEntry.foodId)).valueLabel\r\n\t};\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(MealCard);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MealCard from './MealCard';\r\n\r\nimport { Grid } from '@material-ui/core';\r\n\r\nfunction MealContainer(props) {\r\n\tconst mealCards = props.items.map((item, index) => <Grid item key={item.id}><MealCard meal={item} /></Grid>)\r\n\treturn (\r\n\t\t<Grid container spacing={2} justify=\"center\">\r\n\t\t\t{mealCards}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\titems: state.meals\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps)(MealContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Paper, List, ListItem, ListItemText, Button } from '@material-ui/core';\r\n\r\nimport store from '../applicationStore';\r\nimport { clearFood } from '../reducers/foodReducer';\r\nimport { clearMeals } from '../reducers/mealReducer';\r\n\r\nfunction SettingsPanel(props) {\r\n\tconst { clearFood, clearMeals } = props;\r\n\r\n\tconst onClearData = async () => {\r\n\t\tawait store.localFood.clearItems();\r\n\t\tawait store.meals.clearItems();\r\n\t\tawait store.sfcdFoodCache.clearItems();\r\n\t\tclearMeals();\r\n\t\tclearFood();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Paper elevation={props.elevation}>\r\n\t\t\t<List disablePadding>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText primary=\"Clear Data\" />\r\n\t\t\t\t\t<Button variant=\"outlined\" color=\"secondary\" onClick={onClearData}>Clear</Button>\r\n\t\t\t\t</ListItem>\r\n\t\t\t</List>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n\r\nexport default connect(null, { clearFood, clearMeals })(SettingsPanel);","import { createSlice } from 'redux-starter-kit';\r\n\r\nconst settingsSlice = createSlice({\r\n\tslice: 'settings',\r\n\tinitialState: {},\r\n\treducers: {\r\n\t\tdismissDemoDataNotice(state) {\r\n\t\t\tstate.showDemoDataNotice = false;\r\n\t\t},\r\n\t\tclearData(state, action) {}\r\n\t}\r\n});\r\n\r\nconst { actions, reducer } = settingsSlice;\r\nexport const { dismissDemoDataNotice, clearData } = actions;\r\nexport default reducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { IconButton, Snackbar, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { dismissDemoDataNotice } from '../reducers/settingsReducer';\r\n\r\nimport store from '../applicationStore';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\t'snackbar': {\r\n\t\tbottom: props => {\r\n\t\t\tif(props.placeAboveFab)\r\n\t\t\t\treturn 'calc(2em + 55px + 56px)';\r\n\t\t\treturn 'calc(1em + 55px)';\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nfunction DemoDataNotice(props) {\r\n\tconst { open, dismissDemoDataNotice } = props;\r\n\tconst classes = useStyles({placeAboveFab: props.placeAboveFab});\r\n\r\n\tconst onClose = async () => {\r\n\t\ttry {\r\n\t\t\tawait store.settings.dismissDemoDataNotice()\r\n\t\t\tdismissDemoDataNotice();\r\n\t\t} catch {}\r\n\t};\r\n\r\n\tconst settingsLink = <Typography component={Link} variant=\"body2\" color=\"secondary\" onClick={onClose} to=\"/settings\">Settings</Typography>;\r\n\tconst messageBody = <span>We've added some demo data! If you want to clear it, go to {settingsLink}.</span>;\r\n\tconst actions = [<IconButton key=\"close\" color=\"inherit\" onClick={onClose}><CloseIcon /></IconButton>];\r\n\r\n\treturn open && (\r\n\t\t<Snackbar\r\n\t\t\tanchorOrigin={{vertical: 'bottom', horizontal: 'center'}}\r\n\t\t\tkey=\"demoDataNotice\"\r\n\t\t\topen={open}\r\n\t\t\tonClose={onClose}\r\n\t\t\tmessage={messageBody}\r\n\t\t\taction={actions}\r\n\t\t\tclassName={classes.snackbar}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({ open: state.settings.showDemoDataNotice });\r\n\r\nexport default connect(mapStateToProps, { dismissDemoDataNotice })(DemoDataNotice);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.064 36.904c-3.46 62.976-22.019 124.532-46.448 182.35-49.574 116.458-143.509 210.479-254.802 269.07-26.653 14.06-54.612 26.988-83.44 35.192l-39.345-4.963C-26.759 486.15 66.54 422.757 135.724 339.714c65.661-81.085 107.168-182.101 115.881-286.148-5.302-18.073 6.684-17.981 20.466-16.662h21.993z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.778 38.441c-32.711 66.282-78.277 126.848-134.429 175.084-27.038 22.595-58.643 43.026-93.792 48.428l-38.398-5.107c70.8-15.671 124.527-69.866 167.634-125.076 21.734-29.854 43.083-60.554 56.863-95.035l42.122 1.706z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M294.741 36.555c13.952 71.51 43.174 139.958 82.589 201.088 3.748 11.42 35.43 31.122 24.491 34.844l-34.556 2.612c-46.053-45.121-70.347-106.478-93.406-165.37-4.943-22.093-24.341-56.573-17.058-72.547l37.94-.627z\"\n});\n\nvar SvgArrow = function SvgArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 273.586 547.228\",\n    height: 104,\n    width: 104,\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow.eec47024.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { AppBar, Toolbar, Tabs, Tab, Button, Typography, IconButton } from '@material-ui/core';\r\nimport { ArrowBack } from '@material-ui/icons';\r\nimport { Switch, BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { Redirect } from 'react-router'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport FoodPanel from './FoodPanel';\r\nimport FoodDetailPanel from './FoodDetailPanel';\r\nimport MealDetailPanel from './MealDetailPanel';\r\nimport MealContainer from './MealContainer';\r\nimport SettingsPanel from './SettingsPanel';\r\nimport DemoDataNotice from './DemoDataNotice';\r\nimport { ReactComponent as Arrow } from '../vectors/arrow.svg';\r\n\r\nconst basePath = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_BASE_PATH : '';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst appDimensions = {\r\n\t\twidth: `calc(100% - ${theme.spacing(2)}px)`,\r\n\t\tmaxWidth: 968\r\n\t};\r\n\treturn {\r\n\t\tappBar: {\r\n\t\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\t\talignItems: 'center',\r\n\t\t\tflex: 'none'\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\t...appDimensions\r\n\t\t},\r\n\t\ttoolbarContent: {\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tscrollContainer: {\r\n\t\t\toverflow: 'hidden auto',\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\ttabContentWrapper: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\tmarginRight: 'calc(100% - 100vw)'\r\n\t\t},\r\n\t\ttabContent: {\r\n\t\t\t...appDimensions,\r\n\t\t\tpadding: '1em 0',\r\n\t\t\theight: '100%',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\temptyContent: {\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tcolor: '#ddd',\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\tpaddingRight: '3.5em',\r\n\t\t\theight: 133\r\n\t\t},\r\n\t\temptyContentText: {\r\n\t\t\talignSelf: 'flex-end',\r\n\t\t\tpaddingRight: '0.5em'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction emptyContent(text, classes) {\r\n\treturn (\r\n\t\t<div className={classes.emptyContent}>\r\n\t\t\t<Typography variant=\"h3\" component=\"span\" color=\"inherit\" className={classes.emptyContentText}>{text}</Typography>\r\n\t\t\t<Arrow fill=\"currentColor\"/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/database',\r\n\t\tlabel: 'Database',\r\n\t\tcomponent: FoodPanel,\r\n\t\tdetailRoute: {\r\n\t\t\tpath: '/database/local/:id',\r\n\t\t\tcomponent: FoodDetailPanel\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/meals',\r\n\t\tlabel: 'Meals',\r\n\t\tcomponent: MealContainer,\r\n\t\tdetailRoute: {\r\n\t\t\tpath: '/meals/:id',\r\n\t\t\tcomponent: MealDetailPanel\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/settings',\r\n\t\tlabel: 'Settings',\r\n\t\tcomponent: SettingsPanel\r\n\t}\r\n];\r\n\r\nfunction RootToolbarContent(props) {\r\n\tconst {location, className} = props;\r\n\treturn (\r\n\t\t<Tabs\r\n\t\t\tvalue={location.pathname}\r\n\t\t\tindicatorColor=\"primary\"\r\n\t\t\ttextColor=\"primary\"\r\n\t\t\tclassName={className}\r\n\t\t>\r\n\t\t\t{routes.map(route => <Tab component={Link} label={route.label} value={route.path} to={route.path} key={route.path} />)}\r\n\t\t</Tabs>\r\n\t);\r\n}\r\n\r\nfunction DetailToolbarContent(props) {\r\n\tconst { backPath } = props;\r\n\tconst [goBack, setGoBack] = React.useState(false);\r\n\tconst onBack = () => setGoBack(true);\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<IconButton onClick={onBack}><ArrowBack /></IconButton>\r\n\t\t\t<Typography variant=\"h6\" component=\"h1\" className={props.className}></Typography>\r\n\t\t\t{ goBack && <Redirect to={backPath} /> }\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\n\r\nfunction ViewRoot(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst renderRootToolbar = (props) => <RootToolbarContent className={classes.toolbarContent} {...props} />;\r\n\tconst renderDetailToolbar = backPath => props => <DetailToolbarContent className={classes.toolbarContent} backPath={backPath} {...props} />;\r\n\r\n\treturn (\r\n\t\t<Router basename={basePath}>\r\n\t\t\t<Route exact path=\"/\" render={() => <Redirect to=\"/database\" />} />\r\n\t\t\t<AppBar position=\"static\" color=\"default\" elevation={0} className={classes.appBar}>\r\n\t\t\t\t<Toolbar variant=\"dense\" className={classes.toolbar} disableGutters>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\troutes.map(route => (\r\n\t\t\t\t\t\t\t<Switch key={route.path}>\r\n\t\t\t\t\t\t\t\t{ route.detailRoute && <Route path={route.detailRoute.path} render={renderDetailToolbar(route.path)} /> }\r\n\t\t\t\t\t\t\t\t<Route path={route.path} render={renderRootToolbar} />\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Route path=\"/database\" render={() => <Button component={Link} to=\"/database/local/new\" variant=\"contained\" color=\"primary\">ADD FOOD</Button>} />\r\n\t\t\t\t\t<Route path=\"/meals\" render={() => <Button component={Link} to=\"/meals/new\" variant=\"contained\" color=\"primary\">ADD MEAL</Button>} />\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<div className={classes.scrollContainer}>\r\n\t\t\t\t<div className={classes.tabContentWrapper}>\r\n\t\t\t\t\t<div className={classes.tabContent}>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\troutes.map(route => (\r\n\t\t\t\t\t\t\t\t<Switch key={route.path}>\r\n\t\t\t\t\t\t\t\t\t{ route.detailRoute && <Route path={route.detailRoute.path} render={props => <route.detailRoute.component backPath={route.path} {...props} />} /> }\r\n\t\t\t\t\t\t\t\t\t<Route path={route.path} component={route.component} />\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<DemoDataNotice />\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nexport default ViewRoot;","import React from 'react';\r\n\r\nimport ViewRoot from './components/ViewRoot';\r\nimport { CssBaseline } from '@material-ui/core';\r\n\r\nexport default function App() {\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<ViewRoot />\r\n\t\t</React.Fragment>\r\n\t);\r\n};","import { createSlice } from 'redux-starter-kit';\r\n\r\nconst viewSlice = createSlice({\r\n\tslice: 'servingSizes',\r\n\tinitialState: [\r\n\t\t{id: 0, label: '100g', value: 100, valueLabel: 'g'},\r\n\t\t{id: 1, label: '1', value: 1, valueLabel: ''}\r\n\t],\r\n\treducers: {\r\n\t}\r\n});\r\n\r\nconst { reducer } = viewSlice;\r\nexport default reducer;","import foodReducer from './foodReducer';\r\nimport mealReducer from './mealReducer';\r\nimport servingSizesReducer from './servingSizesReducer';\r\nimport settingsReducer from './settingsReducer';\r\n\r\nconst reducers = {\r\n\tfoods: foodReducer,\r\n\tmeals: mealReducer,\r\n\tservingSizes: servingSizesReducer,\r\n\tsettings: settingsReducer\r\n};\r\n\r\nexport default reducers;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport { configureStore } from 'redux-starter-kit'\r\nimport './index.css';\r\nimport App from './App';\r\nimport reducers from './reducers/reducers';\r\nimport applicationStore from './applicationStore';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nasync function load() {\r\n\tconst preloadedState = {\r\n\t\tfoods: {\r\n\t\t\tlocal: await applicationStore.localFood.getAllItems(),\r\n\t\t\tsfcd: await applicationStore.sfcdFoodCache.getAllItems()\r\n\t\t},\r\n\t\tmeals: await applicationStore.meals.getAllItems(),\r\n\t\tsettings: {\r\n\t\t\tshowDemoDataNotice: !(await applicationStore.settings.get('demoDataNoticeShown')),\r\n\t\t\tmacroColors: await applicationStore.settings.get('macroColors')\r\n\t\t}\r\n\t};\r\n\r\n\tconst store = configureStore({\r\n\t\treducer: reducers,\r\n\t\tpreloadedState: preloadedState,\r\n\t});\r\n\tReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\r\n}\r\n\r\nload();\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}